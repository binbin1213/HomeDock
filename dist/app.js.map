{
  "version": 3,
  "sources": ["<stdin>"],
  "sourcesContent": ["// ===== js/utils/helpers.js =====\n/**\n * å·¥å…·å‡½æ•°æ¨¡å—\n */\n\n/**\n * HTML è½¬ä¹‰ï¼Œé˜²æ­¢ XSS æ”»å‡»\n */\nfunction escapeHtml(unsafe) {\n  if (typeof unsafe !== 'string') {\n    return '';\n  }\n  return unsafe\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\")\n    .replace(/\"/g, \"&quot;\")\n    .replace(/'/g, \"&#039;\")\n    .replace(/\\//g, \"&#x2F;\");\n}\n\n/**\n * URL è½¬ä¹‰\n */\nfunction escapeUrl(url) {\n  if (typeof url !== 'string') {\n    return '#';\n  }\n\n  // å¦‚æœURLä¸ºç©ºæˆ–åªæ˜¯ç©ºæ ¼ï¼Œè¿”å›#\n  if (!url || url.trim() === '') {\n    return '#';\n  }\n\n  try {\n    // å¦‚æœæ˜¯é”šé“¾æ¥ï¼Œç›´æ¥è¿”å›\n    if (url.startsWith('#')) {\n      return url;\n    }\n\n    // éªŒè¯ URL æ ¼å¼\n    const urlObj = new URL(url);\n    return urlObj.toString();\n  } catch (e) {\n    // é™é»˜å¤„ç†æ— æ•ˆURLï¼Œä¸æ˜¾ç¤ºè­¦å‘Š\n    return '#';\n  }\n}\n\n/**\n * é˜²æŠ–å‡½æ•°\n */\nfunction debounce(func, wait, immediate = false) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      timeout = null;\n      if (!immediate) func(...args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func(...args);\n  };\n}\n\n/**\n * èŠ‚æµå‡½æ•°\n */\nfunction throttle(func, limit) {\n  let inThrottle;\n  return function() {\n    const args = arguments;\n    const context = this;\n    if (!inThrottle) {\n      func.apply(context, args);\n      inThrottle = true;\n      setTimeout(() => inThrottle = false, limit);\n    }\n  };\n}\n\n/**\n * æ·±æ‹·è´å¯¹è±¡\n */\nfunction deepClone(obj) {\n  if (obj === null || typeof obj !== 'object') {\n    return obj;\n  }\n\n  if (obj instanceof Date) {\n    return new Date(obj.getTime());\n  }\n\n  if (obj instanceof Array) {\n    return obj.map(item => deepClone(item));\n  }\n\n  if (typeof obj === 'object') {\n    const clonedObj = {};\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        clonedObj[key] = deepClone(obj[key]);\n      }\n    }\n    return clonedObj;\n  }\n}\n\n/**\n * ç”Ÿæˆå”¯ä¸€ ID\n */\nfunction generateId() {\n  return Date.now().toString(36) + Math.random().toString(36).substr(2);\n}\n\n/**\n * æ ¼å¼åŒ–æ–‡ä»¶å¤§å°\n */\nfunction formatFileSize(bytes) {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n}\n\n/**\n * æ£€æµ‹è®¾å¤‡ç±»å‹\n */\nfunction getDeviceType() {\n  const width = window.innerWidth;\n  if (width < 768) return 'mobile';\n  if (width < 1024) return 'tablet';\n  return 'desktop';\n}\n\n/**\n * æœ¬åœ°å­˜å‚¨æ“ä½œå°è£…\n */\nconst Storage = {\n  get(key, defaultValue = null) {\n    try {\n      const value = localStorage.getItem(key);\n      return value ? JSON.parse(value) : defaultValue;\n    } catch (e) {\n      console.error('Storage get error:', e);\n      return defaultValue;\n    }\n  },\n\n  set(key, value) {\n    try {\n      localStorage.setItem(key, JSON.stringify(value));\n      return true;\n    } catch (e) {\n      console.error('Storage set error:', e);\n      return false;\n    }\n  },\n\n  remove(key) {\n    try {\n      localStorage.removeItem(key);\n      return true;\n    } catch (e) {\n      console.error('Storage remove error:', e);\n      return false;\n    }\n  },\n\n  clear() {\n    try {\n      localStorage.clear();\n      return true;\n    } catch (e) {\n      console.error('Storage clear error:', e);\n      return false;\n    }\n  }\n};\n\n/**\n * DOM æ“ä½œå·¥å…·\n */\nconst DOM = {\n  // åˆ›å»ºå…ƒç´ \n  create(tag, attributes = {}, children = []) {\n    const element = document.createElement(tag);\n\n    Object.entries(attributes).forEach(([key, value]) => {\n      if (key === 'className') {\n        element.className = value;\n      } else if (key === 'innerHTML') {\n        element.innerHTML = value;\n      } else if (key === 'textContent') {\n        element.textContent = value;\n      } else if (key.startsWith('data-') || key.startsWith('aria-')) {\n        element.setAttribute(key, value);\n      } else if (key === 'style' && typeof value === 'object') {\n        Object.assign(element.style, value);\n      } else if (key in element && typeof element[key] !== 'function') {\n        element[key] = value;\n      } else {\n        element.setAttribute(key, value);\n      }\n    });\n\n    children.forEach(child => {\n      if (child === null || child === undefined) {\n        return;\n      }\n      if (typeof child === 'string') {\n        element.appendChild(document.createTextNode(child));\n      } else if (child instanceof Node) {\n        element.appendChild(child);\n      } else if (Array.isArray(child)) {\n        child.forEach(grandchild => {\n          if (typeof grandchild === 'string') {\n            element.appendChild(document.createTextNode(grandchild));\n          } else if (grandchild instanceof Node) {\n            element.appendChild(grandchild);\n          }\n        });\n      }\n    });\n\n    return element;\n  },\n\n  // æŸ¥è¯¢å…ƒç´ \n  find(selector, context = document) {\n    return context.querySelector(selector);\n  },\n\n  findAll(selector, context = document) {\n    return Array.from(context.querySelectorAll(selector));\n  },\n\n  // æ·»åŠ äº‹ä»¶ç›‘å¬\n  on(element, event, handler, options = {}) {\n    element.addEventListener(event, handler, options);\n    return () => element.removeEventListener(event, handler, options);\n  },\n\n  // ç§»é™¤å…ƒç´ \n  remove(element) {\n    if (element && element.parentNode) {\n      element.parentNode.removeChild(element);\n    }\n  },\n\n  // æ˜¾ç¤º/éšè—å…ƒç´ \n  show(element) {\n    element.style.display = '';\n  },\n\n  hide(element) {\n    element.style.display = 'none';\n  },\n\n  // åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€\n  toggle(element) {\n    element.style.display = element.style.display === 'none' ? '' : 'none';\n  }\n};\n\n/**\n * åŠ¨ç”»å·¥å…·\n */\nconst Animation = {\n  // æ·¡å…¥\n  fadeIn(element, duration = 300) {\n    element.style.opacity = 0;\n    element.style.display = '';\n\n    let start = null;\n    function animate(timestamp) {\n      if (!start) start = timestamp;\n      const progress = timestamp - start;\n      const opacity = Math.min(progress / duration, 1);\n\n      element.style.opacity = opacity;\n\n      if (progress < duration) {\n        requestAnimationFrame(animate);\n      }\n    }\n\n    requestAnimationFrame(animate);\n  },\n\n  // æ·¡å‡º\n  fadeOut(element, duration = 300, callback) {\n    let start = null;\n    const initialOpacity = parseFloat(window.getComputedStyle(element).opacity);\n\n    function animate(timestamp) {\n      if (!start) start = timestamp;\n      const progress = timestamp - start;\n      const opacity = Math.max(initialOpacity * (1 - progress / duration), 0);\n\n      element.style.opacity = opacity;\n\n      if (progress < duration) {\n        requestAnimationFrame(animate);\n      } else {\n        element.style.display = 'none';\n        if (callback) callback();\n      }\n    }\n\n    requestAnimationFrame(animate);\n  }\n};\n\n// å¯¼å‡ºåˆ°å…¨å±€\nwindow.Helpers = {\n  escapeHtml,\n  escapeUrl,\n  debounce,\n  throttle,\n  deepClone,\n  generateId,\n  formatFileSize,\n  getDeviceType,\n  Storage,\n  DOM,\n  Animation\n};\n\n// ===== js/utils/notification.js =====\n/**\n * é€šçŸ¥ç³»ç»Ÿæ¨¡å—\n * æä¾›ç”¨æˆ·å‹å¥½çš„æ¶ˆæ¯æç¤º\n */\nclass NotificationManager {\n  constructor() {\n    this.container = null;\n    this.notifications = [];\n    this.maxNotifications = 5;\n    this.defaultDuration = 4000;\n    this.activeNotifications = new Set(); // é˜²æ­¢é‡å¤\n    this.init();\n  }\n\n  init() {\n    // åˆ›å»ºé€šçŸ¥å®¹å™¨\n    this.container = document.createElement('div');\n    this.container.className = 'notification-container';\n    this.container.style.cssText = `\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      z-index: 10000;\n      pointer-events: none;\n    `;\n    document.body.appendChild(this.container);\n  }\n\n  show(message, type = 'info', duration = this.defaultDuration) {\n    try {\n      // é˜²æ­¢ç©ºæ¶ˆæ¯\n      if (!message || typeof message !== 'string') {\n        console.warn('Notification: Invalid message provided');\n        return null;\n      }\n\n      // åˆ›å»ºå”¯ä¸€IDï¼Œé¿å…é‡å¤\n      const id = `${type}_${message}_${Date.now()}`;\n      if (this.activeNotifications.has(id)) {\n        console.log('Notification: Duplicate notification skipped:', message);\n        return null;\n      }\n\n      const notification = this.createNotification(id, message, type);\n\n      // æ·»åŠ åˆ°å®¹å™¨\n      this.container.appendChild(notification);\n      this.notifications.push({ id, element: notification, type });\n      this.activeNotifications.add(id);\n\n      // é™åˆ¶é€šçŸ¥æ•°é‡\n      this.limitNotifications();\n\n      // æ˜¾ç¤ºåŠ¨ç”»\n      requestAnimationFrame(() => {\n        notification.classList.add('notification-show');\n      });\n\n      // è‡ªåŠ¨éšè—\n      if (duration > 0) {\n        setTimeout(() => {\n          this.hide(id);\n        }, duration);\n      }\n\n      return id;\n    } catch (error) {\n      console.error('Notification show error:', error);\n      return null;\n    }\n  }\n\n  hide(id) {\n    try {\n      const notificationIndex = this.notifications.findIndex(n => n.id === id);\n      if (notificationIndex === -1) return;\n\n      const { element } = this.notifications[notificationIndex];\n\n      // ç§»é™¤æ´»è·ƒçŠ¶æ€\n      this.activeNotifications.delete(id);\n\n      element.classList.add('notification-hide');\n\n      setTimeout(() => {\n        try {\n          if (element && element.parentNode) {\n            element.parentNode.removeChild(element);\n          }\n          this.notifications.splice(notificationIndex, 1);\n        } catch (error) {\n          console.warn('Notification hide DOM removal error:', error);\n        }\n      }, 300);\n    } catch (error) {\n      console.error('Notification hide error:', error);\n    }\n  }\n\n  createNotification(id, message, type) {\n    const notification = document.createElement('div');\n    notification.className = `notification notification-${type}`;\n    notification.dataset.id = id;\n\n    // å›¾æ ‡æ˜ å°„\n    const icons = {\n      success: 'âœ“',\n      error: 'âœ•',\n      warning: 'âš ',\n      info: 'â„¹'\n    };\n\n    notification.innerHTML = `\n      <div class=\"notification-icon\">${icons[type] || icons.info}</div>\n      <div class=\"notification-content\">${message}</div>\n      <button class=\"notification-close\" onclick=\"NotificationUtils.hideStatic(${id})\">Ã—</button>\n    `;\n\n    // æ·»åŠ æ ·å¼\n    this.addStyles();\n\n    return notification;\n  }\n\n  addStyles() {\n    // å¦‚æœæ ·å¼å·²æ·»åŠ ï¼Œè·³è¿‡\n    if (document.getElementById('notification-styles')) {\n      return;\n    }\n\n    const styles = document.createElement('style');\n    styles.id = 'notification-styles';\n    styles.textContent = `\n      .notification-container {\n        display: flex;\n        flex-direction: column;\n        gap: 10px;\n        max-width: 400px;\n      }\n\n      .notification {\n        background: rgba(43, 43, 43, 0.95);\n        border: 1px solid rgba(255, 255, 255, 0.1);\n        border-radius: 8px;\n        padding: 16px;\n        color: #ffffff;\n        font-size: 14px;\n        line-height: 1.4;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n        backdrop-filter: blur(10px);\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        pointer-events: all;\n        transform: translateX(100%);\n        opacity: 0;\n        transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);\n      }\n\n      .notification-show {\n        transform: translateX(0);\n        opacity: 1;\n      }\n\n      .notification-hide {\n        transform: translateX(100%);\n        opacity: 0;\n      }\n\n      .notification-icon {\n        flex-shrink: 0;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-weight: bold;\n        font-size: 12px;\n      }\n\n      .notification-success .notification-icon {\n        background: #28a745;\n        color: white;\n      }\n\n      .notification-error .notification-icon {\n        background: #dc3545;\n        color: white;\n      }\n\n      .notification-warning .notification-icon {\n        background: #ffc107;\n        color: #212529;\n      }\n\n      .notification-info .notification-icon {\n        background: #17a2b8;\n        color: white;\n      }\n\n      .notification-content {\n        flex: 1;\n        word-wrap: break-word;\n      }\n\n      .notification-close {\n        background: none;\n        border: none;\n        color: rgba(255, 255, 255, 0.7);\n        cursor: pointer;\n        font-size: 18px;\n        padding: 0;\n        width: 20px;\n        height: 20px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-radius: 50%;\n        transition: all 0.2s;\n        flex-shrink: 0;\n      }\n\n      .notification-close:hover {\n        background: rgba(255, 255, 255, 0.1);\n        color: white;\n      }\n\n      /* å“åº”å¼è®¾è®¡ */\n      @media (max-width: 768px) {\n        .notification-container {\n          right: 10px;\n          left: 10px;\n          max-width: none;\n        }\n\n        .notification {\n          font-size: 13px;\n          padding: 12px;\n        }\n      }\n\n      /* æ·±è‰²æ¨¡å¼é€‚é… */\n      @media (prefers-color-scheme: light) {\n        .notification {\n          background: rgba(255, 255, 255, 0.95);\n          color: #333333;\n          border-color: rgba(0, 0, 0, 0.1);\n        }\n\n        .notification-close {\n          color: rgba(0, 0, 0, 0.6);\n        }\n\n        .notification-close:hover {\n          background: rgba(0, 0, 0, 0.1);\n          color: #333333;\n        }\n      }\n    `;\n\n    document.head.appendChild(styles);\n  }\n\n  limitNotifications() {\n    if (this.notifications.length > this.maxNotifications) {\n      const oldestNotification = this.notifications.shift();\n      this.hide(oldestNotification.id);\n    }\n  }\n\n  // æ¸…é™¤æ‰€æœ‰é€šçŸ¥\n  clear() {\n    this.notifications.forEach(({ id }) => {\n      this.hide(id);\n    });\n  }\n\n  // æˆåŠŸé€šçŸ¥\n  success(message, duration) {\n    return this.show(message, 'success', duration);\n  }\n\n  // é”™è¯¯é€šçŸ¥\n  error(message, duration) {\n    return this.show(message, 'error', duration);\n  }\n\n  // è­¦å‘Šé€šçŸ¥\n  warning(message, duration) {\n    return this.show(message, 'warning', duration);\n  }\n\n  // ä¿¡æ¯é€šçŸ¥\n  info(message, duration) {\n    return this.show(message, 'info', duration);\n  }\n}\n\n// é™é»˜æ¨¡å¼ - ç¦ç”¨æ‰€æœ‰é€šçŸ¥\nlet silentMode = true;\n\n// åˆ›å»ºå…¨å±€å®ä¾‹ï¼Œä½¿ç”¨ä¸åŒçš„åç§°é¿å…å†²çª\nconst notificationInstance = new NotificationManager();\n\n// å°†å®ä¾‹èµ‹å€¼ç»™å…¨å±€å˜é‡\nwindow.NotificationUtils = notificationInstance;\n\n// é‡æ–°å®šä¹‰é™æ€æ–¹æ³•ï¼Œç›´æ¥æ“ä½œå®ä¾‹\nwindow.NotificationUtils.showSuccess = (message, duration) => {\n  if (silentMode) return null;\n  try {\n    return notificationInstance.success(message, duration);\n  } catch (error) {\n    console.error('NotificationUtils.showSuccess error:', error);\n    return null;\n  }\n};\n\nwindow.NotificationUtils.showError = (message, duration) => {\n  if (silentMode) return null;\n  try {\n    return notificationInstance.error(message, duration);\n  } catch (error) {\n    console.error('NotificationUtils.showError error:', error);\n    return null;\n  }\n};\n\nwindow.NotificationUtils.showWarning = (message, duration) => {\n  if (silentMode) return null;\n  try {\n    return notificationInstance.warning(message, duration);\n  } catch (error) {\n    console.error('NotificationUtils.showWarning error:', error);\n    return null;\n  }\n};\n\nwindow.NotificationUtils.showInfo = (message, duration) => {\n  if (silentMode) return null;\n  try {\n    return notificationInstance.info(message, duration);\n  } catch (error) {\n    console.error('NotificationUtils.showInfo error:', error);\n    return null;\n  }\n};\n\n// ä¿®å¤æ— é™é€’å½’ - ç›´æ¥è°ƒç”¨å®ä¾‹æ–¹æ³•\nwindow.NotificationUtils.hideStatic = (id) => {\n  try {\n    return notificationInstance.hide(id);\n  } catch (error) {\n    console.error('NotificationUtils.hide error:', error);\n    return null;\n  }\n};\n\nwindow.NotificationUtils.clearStatic = () => {\n  try {\n    return notificationInstance.clear();\n  } catch (error) {\n    console.error('NotificationUtils.clear error:', error);\n    return null;\n  }\n};\n\n// æä¾›å¯ç”¨/ç¦ç”¨é™é»˜æ¨¡å¼çš„æ–¹æ³•\nwindow.NotificationUtils.setSilentMode = (silent) => {\n  silentMode = silent;\n};\n\nwindow.NotificationUtils.isSilentMode = () => {\n  return silentMode;\n};\n\n// ===== js/utils/module-loader.js =====\n/**\n * æ¨¡å—åŠ è½½å™¨\n * ç¡®ä¿æ‰€æœ‰æ¨¡å—æŒ‰æ­£ç¡®é¡ºåºåŠ è½½\n */\n\nclass ModuleLoader {\n  constructor() {\n    this.modules = {\n      // å·¥å…·æ¨¡å— - æ— ä¾èµ–\n      'helpers': { loaded: false, file: 'js/utils/helpers.js', deps: [] },\n      'notification': { loaded: false, file: 'js/utils/notification.js', deps: ['helpers'] },\n      'service-worker': { loaded: false, file: 'js/utils/service-worker.js', deps: ['helpers'] },\n      'image-optimizer': { loaded: false, file: 'js/utils/image-optimizer.js', deps: ['helpers', 'notification'] },\n\n      // æ ¸å¿ƒæ¨¡å— - ä¾èµ–å·¥å…·æ¨¡å—\n      'config-manager': { loaded: false, file: 'js/modules/config-manager.js', deps: ['helpers', 'notification'] },\n      'app-renderer': { loaded: false, file: 'js/modules/app-renderer.js', deps: ['helpers', 'notification', 'config-manager'] },\n      'ui-controller': { loaded: false, file: 'js/modules/ui-controller.js', deps: ['helpers', 'notification', 'config-manager', 'app-renderer'] },\n      'search-engine': { loaded: false, file: 'js/modules/search-engine.js', deps: ['helpers', 'notification', 'config-manager', 'image-optimizer'] }\n    };\n\n    this.globalNames = {\n      'helpers': 'Helpers',\n      'notification': 'NotificationUtils',\n      'service-worker': 'ServiceWorkerManager',\n      'image-optimizer': 'ImageOptimizer',\n      'config-manager': 'ConfigManager',\n      'app-renderer': 'AppRenderer',\n      'ui-controller': 'UIManager',\n      'search-engine': 'SearchEngine'\n    };\n\n    this.loadedModules = new Set();\n    this.loadPromises = new Map();\n    this.init();\n  }\n\n  init() {\n    // æ ‡è®°å·²é€šè¿‡scriptæ ‡ç­¾åŠ è½½çš„æ¨¡å—\n    this.checkLoadedModules();\n  }\n\n  checkLoadedModules() {\n    Object.keys(this.globalNames).forEach(moduleKey => {\n      const globalName = this.globalNames[moduleKey];\n      if (typeof window[globalName] !== 'undefined') {\n        this.modules[moduleKey].loaded = true;\n        this.loadedModules.add(moduleKey);\n        console.log(`âœ… æ¨¡å—å·²åŠ è½½: ${moduleKey} (${globalName})`);\n      }\n    });\n  }\n\n  async loadModule(moduleKey) {\n    if (this.loadedModules.has(moduleKey)) {\n      return true;\n    }\n\n    if (this.loadPromises.has(moduleKey)) {\n      return await this.loadPromises.get(moduleKey);\n    }\n\n    const module = this.modules[moduleKey];\n    if (!module) {\n      throw new Error(`æœªçŸ¥æ¨¡å—: ${moduleKey}`);\n    }\n\n    const loadPromise = this._loadModuleDependencies(moduleKey);\n    this.loadPromises.set(moduleKey, loadPromise);\n\n    try {\n      const result = await loadPromise;\n      console.log(`ğŸ“¦ æ¨¡å—åŠ è½½å®Œæˆ: ${moduleKey}`);\n      return result;\n    } catch (error) {\n      console.error(`âŒ æ¨¡å—åŠ è½½å¤±è´¥: ${moduleKey}`, error);\n      throw error;\n    } finally {\n      this.loadPromises.delete(moduleKey);\n    }\n  }\n\n  async _loadModuleDependencies(moduleKey) {\n    const module = this.modules[moduleKey];\n\n    // å…ˆåŠ è½½ä¾èµ–\n    for (const depKey of module.deps) {\n      await this.loadModule(depKey);\n    }\n\n    // æ£€æŸ¥æ¨¡å—æ˜¯å¦å·²åŠ è½½\n    this.checkLoadedModules();\n    if (this.loadedModules.has(moduleKey)) {\n      return true;\n    }\n\n    // åŠ¨æ€åŠ è½½æ¨¡å—\n    return await this._loadScript(moduleKey, module.file);\n  }\n\n  _loadScript(moduleKey, url) {\n    return new Promise((resolve, reject) => {\n      // æ£€æŸ¥æ˜¯å¦å·²ç»åœ¨åŠ è½½ä¸­\n      if (document.querySelector(`script[data-module=\"${moduleKey}\"]`)) {\n        reject(new Error(`æ¨¡å— ${moduleKey} å·²åœ¨åŠ è½½ä¸­`));\n        return;\n      }\n\n      const script = document.createElement('script');\n      script.src = url;\n      script.async = true;\n      script.dataset.module = moduleKey;\n\n      script.onload = () => {\n        // ç­‰å¾…ä¸€å°æ®µæ—¶é—´ç¡®ä¿æ¨¡å—åˆå§‹åŒ–å®Œæˆ\n        setTimeout(() => {\n          const globalName = this.globalNames[moduleKey];\n          if (typeof window[globalName] !== 'undefined') {\n            this.modules[moduleKey].loaded = true;\n            this.loadedModules.add(moduleKey);\n            console.log(`âœ… æ¨¡å—åŠ è½½æˆåŠŸ: ${moduleKey} -> ${globalName}`);\n            resolve(true);\n          } else {\n            reject(new Error(`æ¨¡å— ${moduleKey} åŠ è½½åæœªæ‰¾åˆ°å…¨å±€å¯¹è±¡ ${globalName}`));\n          }\n        }, 100);\n      };\n\n      script.onerror = () => {\n        reject(new Error(`æ¨¡å— ${moduleKey} åŠ è½½å¤±è´¥: ${url}`));\n      };\n\n      document.head.appendChild(script);\n    });\n  }\n\n  async loadAllModules() {\n    console.log('ğŸš€ å¼€å§‹åŠ è½½æ‰€æœ‰æ¨¡å—...');\n\n    try {\n      for (const moduleKey of Object.keys(this.modules)) {\n        await this.loadModule(moduleKey);\n      }\n\n      console.log('ğŸ‰ æ‰€æœ‰æ¨¡å—åŠ è½½å®Œæˆï¼');\n      return true;\n    } catch (error) {\n      console.error('âŒ æ¨¡å—åŠ è½½å¤±è´¥:', error);\n      throw error;\n    }\n  }\n\n  async waitForModules(moduleKeys, timeout = 10000) {\n    const startTime = Date.now();\n\n    while (Date.now() - startTime < timeout) {\n      this.checkLoadedModules();\n\n      const allLoaded = moduleKeys.every(key => this.loadedModules.has(key));\n      if (allLoaded) {\n        return true;\n      }\n\n      await new Promise(resolve => setTimeout(resolve, 100));\n    }\n\n    const missing = moduleKeys.filter(key => !this.loadedModules.has(key));\n    throw new Error(`ç­‰å¾…æ¨¡å—è¶…æ—¶: ${missing.join(', ')}`);\n  }\n\n  getLoadedModules() {\n    this.checkLoadedModules();\n    return Array.from(this.loadedModules);\n  }\n\n  getMissingModules() {\n    this.checkLoadedModules();\n    return Object.keys(this.modules).filter(key => !this.loadedModules.has(key));\n  }\n\n  getModuleInfo() {\n    this.checkLoadedModules();\n    const info = {};\n\n    Object.keys(this.modules).forEach(key => {\n      const module = this.modules[key];\n      const globalName = this.globalNames[key];\n\n      info[key] = {\n        loaded: this.loadedModules.has(key),\n        globalAvailable: typeof window[globalName] !== 'undefined',\n        file: module.file,\n        deps: module.deps\n      };\n    });\n\n    return info;\n  }\n}\n\n// åˆ›å»ºå…¨å±€æ¨¡å—åŠ è½½å™¨å®ä¾‹\nwindow.ModuleLoader = new ModuleLoader();\n\n// ===== js/modules/config-manager.js =====\n/**\n * é…ç½®ç®¡ç†æ¨¡å—\n * è´Ÿè´£åº”ç”¨é…ç½®çš„åŠ è½½ã€ä¿å­˜å’ŒåŒæ­¥\n */\nclass ConfigManager {\n  constructor() {\n    this.CONFIG_KEY = 'homedock-config';\n    this.API_ENDPOINT = this.resolveApiEndpoint();\n    this.cachedConfig = null;\n  }\n\n  resolveApiEndpoint() {\n    try {\n      const { origin, hostname } = window.location || {};\n\n      // å½“æ‰˜ç®¡åœ¨ Cloudflare Pagesï¼ˆ*.pages.devï¼‰æ—¶ï¼ŒæŒ‡å‘å·²éƒ¨ç½²çš„ workers.dev åŸŸå\n      if (hostname && hostname.endsWith('.pages.dev')) {\n        return 'https://homedock.piaozhitian.workers.dev/api/config';\n      }\n\n      // é»˜è®¤ï¼šç›¸å¯¹å½“å‰ç«™ç‚¹çš„ /api/configï¼ˆé€‚ç”¨äºæœ¬åœ° dev-server å’Œè‡ªå®šä¹‰åŸŸï¼‰\n      if (origin && origin.startsWith('http')) {\n        return origin.replace(/\\/+$/, '') + '/api/config';\n      }\n\n      return '/api/config';\n    } catch (e) {\n      console.warn('API ç«¯ç‚¹è§£æå¤±è´¥ï¼Œå›é€€åˆ°é»˜è®¤ /api/config', e);\n      return '/api/config';\n    }\n  }\n\n  /**\n   * å¸¦é‡è¯•æœºåˆ¶çš„é…ç½®åŠ è½½\n   */\n  async loadConfigWithRetry(maxRetries = 3) {\n    for (let i = 0; i < maxRetries; i++) {\n      try {\n        const config = await this.loadConfigFromServer();\n        if (config && this.validateConfig(config)) {\n          this.cachedConfig = config;\n          localStorage.setItem(this.CONFIG_KEY, JSON.stringify(config));\n          return config;\n        }\n      } catch (error) {\n        console.warn(`é…ç½®åŠ è½½å°è¯• ${i + 1} å¤±è´¥:`, error);\n        if (i === maxRetries - 1) {\n          NotificationUtils.showWarning('é…ç½®åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°ç¼“å­˜');\n        }\n        await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)));\n      }\n    }\n\n    // å›é€€åˆ°æœ¬åœ°é…ç½®\n    return this.loadLocalConfig();\n  }\n\n  /**\n   * ä»æœåŠ¡å™¨åŠ è½½é…ç½®\n   */\n  async loadConfigFromServer() {\n    try {\n      const response = await fetch(this.API_ENDPOINT, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'Cache-Control': 'no-cache'\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n\n      // æœåŠ¡å™¨è¿”å› null è¡¨ç¤º KV ä¸­æ²¡æœ‰é…ç½®ï¼Œå›é€€åˆ°æœ¬åœ°é…ç½®\n      if (data === null) {\n        console.info('æœåŠ¡å™¨è¿”å› nullï¼Œå›é€€åˆ°æœ¬åœ°é…ç½®');\n        return null;\n      }\n\n      if (!this.validateConfig(data)) {\n        throw new Error('æœåŠ¡å™¨è¿”å›çš„é…ç½®æ ¼å¼æ— æ•ˆ');\n      }\n\n      return this.normalizeConfig(data);\n    } catch (error) {\n      console.error('ä»æœåŠ¡å™¨åŠ è½½é…ç½®å¤±è´¥:', error);\n      return null;\n    }\n  }\n\n  /**\n   * åŠ è½½æœ¬åœ°é…ç½®\n   */\n  loadLocalConfig() {\n    try {\n      const localConfig = JSON.parse(localStorage.getItem(this.CONFIG_KEY));\n\n      if (localConfig && this.validateConfig(localConfig)) {\n        this.cachedConfig = localConfig;\n        return localConfig;\n      }\n\n      // å¦‚æœæœ¬åœ°æ²¡æœ‰æœ‰æ•ˆé…ç½®ï¼ŒåŠ è½½é»˜è®¤é…ç½®\n      return this.loadDefaultConfig();\n    } catch (error) {\n      console.error('åŠ è½½æœ¬åœ°é…ç½®å¤±è´¥:', error);\n      return this.loadDefaultConfig();\n    }\n  }\n\n  /**\n   * åŠ è½½é»˜è®¤é…ç½®\n   */\n  async loadDefaultConfig() {\n    try {\n      const response = await fetch('apps-config.json');\n      const defaultConfig = await response.json();\n      const normalizedConfig = this.normalizeConfig(defaultConfig);\n\n      this.cachedConfig = normalizedConfig;\n      localStorage.setItem(this.CONFIG_KEY, JSON.stringify(normalizedConfig));\n\n      return normalizedConfig;\n    } catch (error) {\n      console.error('åŠ è½½é»˜è®¤é…ç½®å¤±è´¥:', error);\n      NotificationUtils.showError('é…ç½®åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');\n      return null;\n    }\n  }\n\n  /**\n   * ä¿å­˜é…ç½®åˆ°æœ¬åœ°å’ŒæœåŠ¡å™¨\n   */\n  async saveConfig(config) {\n    if (!this.validateConfig(config)) {\n      throw new Error('é…ç½®æ ¼å¼æ— æ•ˆ');\n    }\n\n    // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨\n    localStorage.setItem(this.CONFIG_KEY, JSON.stringify(config));\n    this.cachedConfig = config;\n\n    // å°è¯•ä¿å­˜åˆ°æœåŠ¡å™¨\n    try {\n      await this.saveConfigToServer(config);\n      NotificationUtils.showSuccess('é…ç½®å·²ä¿å­˜');\n    } catch (error) {\n      console.warn('ä¿å­˜åˆ°æœåŠ¡å™¨å¤±è´¥ï¼Œä»…ä¿å­˜åˆ°æœ¬åœ°:', error);\n      NotificationUtils.showWarning('é…ç½®å·²ä¿å­˜åˆ°æœ¬åœ°');\n    }\n  }\n\n  /**\n   * ä¿å­˜é…ç½®åˆ°æœåŠ¡å™¨\n   */\n  async saveConfigToServer(config) {\n    const response = await fetch(this.API_ENDPOINT, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(config)\n    });\n\n    if (!response.ok) {\n      throw new Error(`ä¿å­˜å¤±è´¥: ${response.status}`);\n    }\n  }\n\n  /**\n   * éªŒè¯é…ç½®æ ¼å¼\n   */\n  validateConfig(config) {\n    return config &&\n           typeof config === 'object' &&\n           Array.isArray(config.applications) &&\n           config.applications.every(app =>\n             typeof app.name === 'string' &&\n             app.name.trim().length > 0\n           );\n  }\n\n  /**\n   * æ ‡å‡†åŒ–é…ç½®æ ¼å¼\n   */\n  normalizeConfig(config) {\n    if (!config.background) {\n      config.background = {\n        mode: 'wallpaper',\n        solidColor: '#202124',\n        gradientFrom: '#141e30',\n        gradientTo: '#243b55'\n      };\n    }\n\n    // ç¡®ä¿æ‰€æœ‰åº”ç”¨éƒ½æœ‰å¿…è¦çš„å­—æ®µ\n    config.applications = config.applications.map(app => ({\n      name: app.name || 'æœªå‘½ååº”ç”¨',\n      external_url: app.external_url || '',\n      internal_url: app.internal_url || '',\n      icon: app.icon || 'img/png/favicon.svg',\n      ...app\n    }));\n\n    return config;\n  }\n\n  /**\n   * è·å–å½“å‰é…ç½®\n   */\n  getCurrentConfig() {\n    return this.cachedConfig || this.loadLocalConfig();\n  }\n\n  /**\n   * æ·»åŠ åº”ç”¨\n   */\n  addApplication(app) {\n    const config = this.getCurrentConfig();\n    config.applications.push(app);\n    return this.saveConfig(config);\n  }\n\n  /**\n   * æ›´æ–°åº”ç”¨\n   */\n  updateApplication(index, app) {\n    const config = this.getCurrentConfig();\n    if (config.applications[index]) {\n      config.applications[index] = { ...config.applications[index], ...app };\n      return this.saveConfig(config);\n    }\n    throw new Error('åº”ç”¨ä¸å­˜åœ¨');\n  }\n\n  /**\n   * åˆ é™¤åº”ç”¨\n   */\n  deleteApplication(index) {\n    const config = this.getCurrentConfig();\n    if (config.applications[index]) {\n      config.applications.splice(index, 1);\n      return this.saveConfig(config);\n    }\n    throw new Error('åº”ç”¨ä¸å­˜åœ¨');\n  }\n\n  /**\n   * é‡æ–°æ’åºåº”ç”¨\n   */\n  reorderApplications(fromIndex, toIndex) {\n    const config = this.getCurrentConfig();\n    const [movedApp] = config.applications.splice(fromIndex, 1);\n    config.applications.splice(toIndex, 0, movedApp);\n    return this.saveConfig(config);\n  }\n\n  /**\n   * æ›´æ–°èƒŒæ™¯è®¾ç½®\n   */\n  updateBackground(background) {\n    const config = this.getCurrentConfig();\n    config.background = { ...config.background, ...background };\n    return this.saveConfig(config);\n  }\n}\n\n// å¯¼å‡ºå•ä¾‹å®ä¾‹\nwindow.ConfigManager = new ConfigManager();\n\n\n// ===== js/modules/app-renderer.js =====\n/**\n * åº”ç”¨æ¸²æŸ“å™¨æ¨¡å—\n * è´Ÿè´£åº”ç”¨çš„æ¸²æŸ“å’Œäº¤äº’\n */\nclass AppRenderer {\n  constructor() {\n    this.APPS_PER_PAGE = 15;  // âœ… æ”¹ä¸º15ä¸ªï¼ˆ3è¡ŒÃ—5åˆ—ï¼‰\n    this.externalPageIndex = 0;\n    this.internalPageIndex = 0;\n    this.editMode = false;\n    this.configManager = window.ConfigManager;\n    this.init();\n  }\n\n  init() {\n    // ç­‰å¾…DOMåŠ è½½å®Œæˆ\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', () => this.setupEventListeners());\n    } else {\n      this.setupEventListeners();\n    }\n  }\n\n  setupEventListeners() {\n    // ç¼–è¾‘åˆ‡æ¢æŒ‰é’®\n    const editToggleBtn = DOM.find('#edit-toggle-btn');\n    if (editToggleBtn) {\n      DOM.on(editToggleBtn, 'click', (e) => {\n        e.stopPropagation();\n        this.toggleEditMode();\n      });\n    }\n\n    // åˆ†é¡µæ§åˆ¶\n    this.setupPagingControls();\n\n    // ç‚¹å‡»ç©ºç™½åŒºåŸŸé€€å‡ºç¼–è¾‘æ¨¡å¼\n    DOM.on(document, 'click', (e) => {\n      if (this.editMode &&\n          !e.target.closest('.app-item') &&\n          !e.target.closest('.edit-modal') &&\n          !e.target.closest('#edit-toggle-btn')) {\n        this.exitEditMode();\n      }\n    });\n\n    // é”®ç›˜å¿«æ·é”®\n    DOM.on(document, 'keydown', (e) => {\n      if (e.ctrlKey && e.key === 'e') {\n        e.preventDefault();\n        this.toggleEditMode();\n      }\n    });\n  }\n\n  /**\n   * æ¸²æŸ“å¤–éƒ¨åº”ç”¨\n   */\n  renderExternalApps() {\n    const appsList = DOM.find('#external-apps');\n    const nextBtn = DOM.find('#external-next-btn');\n\n    if (!appsList) {\n      console.warn('âš ï¸ #external-apps container not found');\n      return;\n    }\n\n    appsList.innerHTML = '';\n\n    let config = this.configManager.getCurrentConfig();\n    if (!config || typeof config.then === 'function' || !Array.isArray(config.applications)) {\n      console.warn('âš ï¸ No valid config found, reloading config...');\n      this.configManager.loadConfigWithRetry().then(() => {\n        this.renderExternalApps();\n        this.renderInternalApps();\n      }).catch((error) => {\n        console.error('âŒ Failed to reload config:', error);\n      });\n      return;\n    }\n\n    // è¿‡æ»¤å¤–éƒ¨åº”ç”¨ - åªæ˜¾ç¤ºæœ‰æœ‰æ•ˆURLçš„åº”ç”¨\n    const appsWithIndex = config.applications\n      .map((app, index) => ({ app, index }))\n      .filter(item => item.app.external_url && item.app.external_url.trim() && item.app.external_url !== '#');\n\n    \n    this.renderApps(appsList, appsWithIndex, 'external', this.externalPageIndex);\n\n    // æ›´æ–°åˆ†é¡µæŒ‰é’®çŠ¶æ€\n    if (nextBtn) {\n      const total = appsWithIndex.length;\n      nextBtn.classList.toggle('page-arrow-hidden', total <= this.APPS_PER_PAGE);\n    }\n  }\n\n  /**\n   * æ¸²æŸ“å†…éƒ¨åº”ç”¨\n   */\n  renderInternalApps() {\n    const appsList = DOM.find('#internal-apps');\n    const nextBtn = DOM.find('#internal-next-btn');\n\n    if (!appsList) {\n      console.warn('âš ï¸ #internal-apps container not found');\n      return;\n    }\n\n    appsList.innerHTML = '';\n\n    let config = this.configManager.getCurrentConfig();\n    if (!config || typeof config.then === 'function' || !Array.isArray(config.applications)) {\n      console.warn('âš ï¸ No valid config found for internal apps, reloading config...');\n      this.configManager.loadConfigWithRetry().then(() => {\n        this.renderInternalApps();\n      }).catch((error) => {\n        console.error('âŒ Failed to reload config for internal apps:', error);\n      });\n      return;\n    }\n\n    // è¿‡æ»¤å†…éƒ¨åº”ç”¨ - åªæ˜¾ç¤ºæœ‰æœ‰æ•ˆURLçš„åº”ç”¨\n    const appsWithIndex = config.applications\n      .map((app, index) => ({ app, index }))\n      .filter(item => item.app.internal_url && item.app.internal_url.trim() && item.app.internal_url !== '#');\n\n    \n    this.renderApps(appsList, appsWithIndex, 'internal', this.internalPageIndex);\n\n    // æ›´æ–°åˆ†é¡µæŒ‰é’®çŠ¶æ€\n    if (nextBtn) {\n      const total = appsWithIndex.length;\n      nextBtn.classList.toggle('page-arrow-hidden', total <= this.APPS_PER_PAGE);\n    }\n  }\n\n  /**\n   * é€šç”¨åº”ç”¨æ¸²æŸ“æ–¹æ³•\n   */\n  renderApps(container, appsWithIndex, type, pageIndex) {\n    const total = appsWithIndex.length;\n    const maxPage = Math.max(0, Math.ceil(total / this.APPS_PER_PAGE) - 1);\n\n    // è°ƒæ•´é¡µé¢ç´¢å¼•\n    if (pageIndex > maxPage) {\n      pageIndex = 0;\n      if (type === 'external') {\n        this.externalPageIndex = 0;\n      } else {\n        this.internalPageIndex = 0;\n      }\n    }\n\n    const start = pageIndex * this.APPS_PER_PAGE;\n    const pageItems = appsWithIndex.slice(start, start + this.APPS_PER_PAGE);\n\n    // æ¸²æŸ“åº”ç”¨é¡¹\n    pageItems.forEach(({ app, index }) => {\n      const li = this.createAppItem(app, index, type);\n      container.appendChild(li);\n    });\n\n    // æ·»åŠ \"æ·»åŠ åº”ç”¨\"æŒ‰é’®\n    const addLi = this.createAddAppItem(type);\n    container.appendChild(addLi);\n\n    // æ·»åŠ æ‹–æ‹½æ”¯æŒ\n    this.enableDragAndDrop(container, type);\n  }\n\n  /**\n   * åˆ›å»ºåº”ç”¨é¡¹\n   */\n  createAppItem(app, index, type) {\n    const li = DOM.create('li', {\n      className: 'app-page-item',\n      draggable: true,\n      'data-app-index': index,\n      'data-app-type': type\n    });\n\n    const url = type === 'external' ? app.external_url : app.internal_url;\n    const iconSrc = app.icon && app.icon.trim() ? app.icon : 'img/png/favicon.svg';\n    const target = url && url.startsWith('#') ? '_self' : '_blank';\n\n    const appItemContent = DOM.create('div', {\n      className: 'app-item',\n      'data-app-index': index\n    }, [\n      DOM.create('a', {\n        'data-url': Helpers.escapeUrl(url),  /* å­˜å‚¨URLåœ¨dataå±æ€§ä¸­ */\n        'data-target': target,\n        role: 'button',  /* è¯­ä¹‰åŒ–ï¼šè¿™æ˜¯ä¸€ä¸ªæŒ‰é’® */\n        tabindex: '0'  /* å¯é€šè¿‡é”®ç›˜èšç„¦ */\n      }, [\n        DOM.create('img', {\n          className: 'shake',\n          src: iconSrc,\n          alt: Helpers.escapeHtml(app.name),\n          onerror: 'this.onerror=null;this.src=\\'img/png/favicon.svg\\''\n        }),\n        DOM.create('strong', {}, [Helpers.escapeHtml(app.name)])\n      ]),\n      this.createEditButtons(index)\n    ]);\n\n    // æ·»åŠ ç‚¹å‡»äº‹ä»¶å¤„ç†å¯¼èˆª\n    const link = appItemContent.querySelector('a');\n    if (link) {\n      DOM.on(link, 'click', (e) => {\n        e.preventDefault();\n        const url = link.getAttribute('data-url');\n        const target = link.getAttribute('data-target') || '_blank';\n        if (url && url !== '#' && url.trim() !== '') {\n          if (target === '_blank') {\n            window.open(url, '_blank', 'noopener,noreferrer');\n          } else {\n            window.location.href = url;\n          }\n        }\n      });\n    }\n\n    // æ·»åŠ å³é”®èœå•äº‹ä»¶\n    DOM.on(appItemContent, 'contextmenu', (e) => {\n      e.preventDefault();\n      this.enterEditMode();\n    });\n\n    li.appendChild(appItemContent);\n    return li;\n  }\n\n  /**\n   * åˆ›å»ºç¼–è¾‘æŒ‰é’®\n   */\n  createEditButtons(index) {\n    // åˆ›å»ºç¼–è¾‘æŒ‰é’® SVG å›¾æ ‡\n    const editBtnIcon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    editBtnIcon.setAttribute('class', 'edit-icon-svg');\n    editBtnIcon.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n    editBtnIcon.setAttribute('width', '16');\n    editBtnIcon.setAttribute('height', '16');\n    editBtnIcon.setAttribute('viewBox', '0 0 24 24');\n    editBtnIcon.setAttribute('fill', 'none');\n    editBtnIcon.setAttribute('stroke', 'currentColor');\n    editBtnIcon.setAttribute('stroke-width', '2');\n    editBtnIcon.setAttribute('stroke-linecap', 'round');\n    editBtnIcon.setAttribute('stroke-linejoin', 'round');\n    editBtnIcon.innerHTML = '<path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"/><path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"/>';\n\n    const editBtn = DOM.create('button', {\n      className: 'edit-btn icon-btn',\n      style: 'display: none;'\n    }, []);\n    editBtn.appendChild(editBtnIcon);\n\n    const deleteBtn = DOM.create('button', {\n      className: 'icon-btn delete-btn',\n      style: 'display: none;'\n    });\n\n    // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨è€Œä¸æ˜¯ä½¿ç”¨onclickå±æ€§\n    DOM.on(editBtn, 'click', (e) => {\n      e.stopPropagation();\n      window.UIManager.editApp(index);\n    });\n\n    DOM.on(deleteBtn, 'click', (e) => {\n      e.stopPropagation();\n      window.UIManager.deleteApp(index);\n    });\n\n    return [editBtn, deleteBtn];\n  }\n\n  /**\n   * åˆ›å»ºæ·»åŠ åº”ç”¨é¡¹\n   */\n  createAddAppItem(type) {\n    const li = DOM.create('li', { className: 'app-page-item add-app-item' });\n\n    const addItem = DOM.create('div', {\n      className: 'app-item add-app-item-inner'\n    }, [\n      DOM.create('strong', {}, ['+ æ·»åŠ åº”ç”¨'])\n    ]);\n\n    DOM.on(addItem, 'click', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (window.UIManager && typeof window.UIManager.openAddApp === 'function') {\n        window.UIManager.openAddApp(type);\n      }\n    });\n\n    li.appendChild(addItem);\n    return li;\n  }\n\n  /**\n   * å¯ç”¨æ‹–æ‹½æ’åº\n   */\n  enableDragAndDrop(container, type) {\n    let draggedElement = null;\n    let draggedIndex = null;\n    let currentOverElement = null;\n\n    const resetDragState = () => {\n      if (draggedElement) {\n        draggedElement.classList.remove('dragging');\n      }\n      if (currentOverElement) {\n        currentOverElement.classList.remove('drag-over');\n      }\n      draggedElement = null;\n      draggedIndex = null;\n      currentOverElement = null;\n    };\n\n    DOM.on(container, 'dragstart', (e) => {\n      const item = e.target.closest('.app-page-item');\n      if (!item || item.classList.contains('add-app-item')) return;\n\n      draggedElement = item;\n      draggedIndex = parseInt(draggedElement.dataset.appIndex);\n      draggedElement.classList.add('dragging');\n\n      if (e.dataTransfer) {\n        e.dataTransfer.effectAllowed = 'move';\n        e.dataTransfer.setData('text/plain', '');\n      }\n    });\n\n    DOM.on(container, 'dragover', (e) => {\n      e.preventDefault();\n      if (!draggedElement) return;\n      if (e.dataTransfer) {\n        e.dataTransfer.dropEffect = 'move';\n      }\n\n      const target = e.target.closest('.app-page-item');\n      if (!target || target === draggedElement || target.classList.contains('add-app-item')) {\n        return;\n      }\n\n      if (currentOverElement && currentOverElement !== target) {\n        currentOverElement.classList.remove('drag-over');\n      }\n      target.classList.add('drag-over');\n      currentOverElement = target;\n\n      const rect = target.getBoundingClientRect();\n      const offsetY = e.clientY - rect.top;\n      const shouldInsertBefore = offsetY < rect.height / 2;\n\n      if (shouldInsertBefore) {\n        container.insertBefore(draggedElement, target);\n      } else {\n        container.insertBefore(draggedElement, target.nextSibling);\n      }\n    });\n\n    DOM.on(container, 'drop', async (e) => {\n      e.preventDefault();\n      if (draggedElement) {\n        draggedElement.classList.remove('dragging');\n        if (currentOverElement) {\n          currentOverElement.classList.remove('drag-over');\n        }\n\n        // è·å–æ–°çš„é¡ºåº\n        const items = Array.from(container.querySelectorAll('.app-page-item:not(.add-app-item)'));\n        const newIndex = items.indexOf(draggedElement);\n\n        if (newIndex !== draggedIndex) {\n          try {\n            await this.configManager.reorderApplications(draggedIndex, newIndex);\n            NotificationUtils.showSuccess('åº”ç”¨é¡ºåºå·²æ›´æ–°');\n\n            // é‡æ–°æ¸²æŸ“\n            if (type === 'external') {\n              this.renderExternalApps();\n            } else {\n              this.renderInternalApps();\n            }\n          } catch (error) {\n            NotificationUtils.showError('æ›´æ–°é¡ºåºå¤±è´¥: ' + error.message);\n          }\n        }\n      }\n    });\n\n    DOM.on(container, 'dragend', () => {\n      resetDragState();\n    });\n\n    DOM.on(container, 'dragleave', (e) => {\n      const item = e.target.closest('.app-page-item');\n      if (item) {\n        item.classList.remove('drag-over');\n      }\n    });\n\n    DOM.on(window, 'mouseup', () => {\n      if (draggedElement) {\n        resetDragState();\n      }\n    });\n  }\n\n  /**\n   * è·å–æ‹–æ‹½åçš„ä½ç½®\n   */\n  getDragAfterElement(container, y) {\n    const draggableElements = [...container.querySelectorAll('.app-page-item:not(.dragging):not(.add-app-item)')];\n\n    return draggableElements.reduce((closest, child) => {\n      const box = child.getBoundingClientRect();\n      const offset = y - box.top - box.height / 2;\n\n      if (offset < 0 && offset > closest.offset) {\n        return { offset: offset, element: child };\n      } else {\n        return closest;\n      }\n    }, { offset: Number.NEGATIVE_INFINITY }).element;\n  }\n\n  /**\n   * è®¾ç½®åˆ†é¡µæ§åˆ¶\n   */\n  setupPagingControls() {\n    const externalNext = DOM.find('#external-next-btn');\n    const internalNext = DOM.find('#internal-next-btn');\n\n    if (externalNext) {\n      DOM.on(externalNext, 'click', () => {\n        this.nextPage('external');\n      });\n    }\n\n    if (internalNext) {\n      DOM.on(internalNext, 'click', () => {\n        this.nextPage('internal');\n      });\n    }\n  }\n\n  /**\n   * ä¸‹ä¸€é¡µ\n   */\n  nextPage(type) {\n    const config = this.configManager.getCurrentConfig();\n    if (!config || !Array.isArray(config.applications)) return;\n\n    const apps = config.applications.filter(app =>\n      type === 'external' ? app.external_url : app.internal_url\n    );\n\n    const maxPage = Math.max(0, Math.ceil(apps.length / this.APPS_PER_PAGE) - 1);\n\n    if (type === 'external') {\n      this.externalPageIndex = this.externalPageIndex >= maxPage ? 0 : this.externalPageIndex + 1;\n      this.renderExternalApps();\n    } else {\n      this.internalPageIndex = this.internalPageIndex >= maxPage ? 0 : this.internalPageIndex + 1;\n      this.renderInternalApps();\n    }\n\n    if (this.editMode) {\n      this.addRightClickEdit();\n    }\n  }\n\n  /**\n   * åˆ‡æ¢ç¼–è¾‘æ¨¡å¼\n   */\n  toggleEditMode() {\n    if (this.editMode) {\n      this.exitEditMode();\n    } else {\n      this.enterEditMode();\n    }\n  }\n\n  /**\n   * è¿›å…¥ç¼–è¾‘æ¨¡å¼\n   */\n  enterEditMode() {\n    this.editMode = true;\n    document.body.classList.add('edit-mode');\n\n    // æ˜¾ç¤ºåˆ é™¤æŒ‰é’®ï¼ˆç¼–è¾‘æŒ‰é’®ç”±CSSæ§åˆ¶æ‚¬æµ®æ—¶æ˜¾ç¤ºï¼‰\n    DOM.findAll('.delete-btn').forEach(btn => {\n      btn.style.display = 'flex';\n    });\n\n    // ç§»é™¤åŸæœ‰åŠ¨ç”»ï¼Œæ·»åŠ ç¼–è¾‘æ¨¡å¼åŠ¨ç”»\n    DOM.findAll('.shake, .edit-shake').forEach(element => {\n      element.classList.remove('shake', 'edit-shake');\n    });\n\n    DOM.findAll('.app-item img').forEach(img => {\n      img.classList.add('edit-shake');\n    });\n\n    DOM.findAll('.edit-btn').forEach(btn => {\n      btn.classList.add('edit-shake');\n    });\n\n    // æ›´æ–°æŒ‰é’®çŠ¶æ€\n    const toggleBtn = DOM.find('#edit-toggle-btn');\n    const editText = DOM.find('.edit-text');\n    if (toggleBtn && editText) {\n      toggleBtn.classList.add('editing');\n      toggleBtn.setAttribute('aria-pressed', 'true');  // âœ… æ›´æ–° ARIA çŠ¶æ€\n      editText.textContent = 'å®Œæˆ';\n    }\n\n    // æ·»åŠ å³é”®ç¼–è¾‘æ”¯æŒ\n    this.addRightClickEdit();\n  }\n\n  /**\n   * é€€å‡ºç¼–è¾‘æ¨¡å¼\n   */\n  exitEditMode() {\n    this.editMode = false;\n    document.body.classList.remove('edit-mode');\n\n    // éšè—ç¼–è¾‘æŒ‰é’®\n    DOM.findAll('.icon-btn').forEach(btn => {\n      btn.style.display = 'none';\n    });\n\n    // æ¢å¤é»˜è®¤åŠ¨ç”»\n    DOM.findAll('.edit-shake').forEach(element => {\n      element.classList.remove('edit-shake');\n    });\n\n    DOM.findAll('.app-item img').forEach(img => {\n      img.classList.add('shake');\n    });\n\n    // æ›´æ–°æŒ‰é’®çŠ¶æ€\n    const toggleBtn = DOM.find('#edit-toggle-btn');\n    const editText = DOM.find('.edit-text');\n    if (toggleBtn && editText) {\n      toggleBtn.classList.remove('editing');\n      toggleBtn.setAttribute('aria-pressed', 'false');  // âœ… æ›´æ–° ARIA çŠ¶æ€\n      editText.textContent = 'ç¼–è¾‘';\n    }\n  }\n\n  /**\n   * æ·»åŠ å³é”®ç¼–è¾‘æ”¯æŒ\n   */\n  addRightClickEdit() {\n    DOM.findAll('.app-item a').forEach(link => {\n      DOM.on(link, 'contextmenu', (e) => {\n        e.preventDefault();\n\n        if (!this.editMode) {\n          this.enterEditMode();\n        }\n      });\n    });\n  }\n\n  /**\n   * åˆ·æ–°æ‰€æœ‰åº”ç”¨\n   */\n  refresh() {\n    this.externalPageIndex = 0;\n    this.internalPageIndex = 0;\n    this.renderExternalApps();\n    this.renderInternalApps();\n\n    if (this.editMode) {\n      this.addRightClickEdit();\n    }\n  }\n}\n\n// åˆ›å»ºå…¨å±€å®ä¾‹\nwindow.AppRenderer = new AppRenderer();\n\n\n// ===== js/modules/ui-controller.js =====\n/**\n * UI æ§åˆ¶å™¨æ¨¡å—\n * è´Ÿè´£æ¨¡æ€æ¡†ã€åº”ç”¨åˆ‡æ¢å’Œæ•´ä½“UIäº¤äº’\n */\nclass UIController {\n  constructor() {\n    this.configManager = window.ConfigManager;\n    this.appRenderer = window.AppRenderer;\n    this.init();\n  }\n\n  init() {\n    // ç­‰å¾…DOMåŠ è½½å®Œæˆ\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', () => this.setupAll());\n    } else {\n      this.setupAll();\n    }\n  }\n\n  setupAll() {\n    try {\n      this.setupModalEvents();\n      this.setupAppToggle();\n      this.setupEngineDisplay();\n      this.setupSearchFunction();\n      const iconPickerToggle = DOM.find('#iconPickerToggle');\n      if (iconPickerToggle) {\n        DOM.on(iconPickerToggle, 'click', (e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          this.showIconSelector();\n        });\n      }\n      console.log('âœ… UI Controller åˆå§‹åŒ–å®Œæˆ');\n    } catch (error) {\n      console.error('âŒ UI Controller åˆå§‹åŒ–å¤±è´¥:', error);\n    }\n  }\n\n  /**\n   * è®¾ç½®æ¨¡æ€æ¡†äº‹ä»¶\n   */\n  setupModalEvents() {\n    const modal = DOM.find('#editModal');\n    if (!modal) return;\n\n    // å…³é—­æŒ‰é’®\n    const closeBtn = DOM.find('.edit-modal-close');\n    if (closeBtn) {\n      DOM.on(closeBtn, 'click', () => this.hideEditModal());\n    }\n\n    // å–æ¶ˆæŒ‰é’®\n    const cancelBtn = DOM.find('.btn-cancel');\n    if (cancelBtn) {\n      DOM.on(cancelBtn, 'click', () => this.hideEditModal());\n    }\n\n    // è¡¨å•æäº¤\n    const form = DOM.find('#editForm');\n    if (form) {\n      DOM.on(form, 'submit', (e) => {\n        e.preventDefault();\n        this.saveEditedApp();\n      });\n    }\n\n    // ç‚¹å‡»èƒŒæ™¯å…³é—­\n    DOM.on(modal, 'click', (e) => {\n      if (e.target === modal) {\n        this.hideEditModal();\n      }\n    });\n\n    // ESC é”®å…³é—­\n    DOM.on(document, 'keydown', (e) => {\n      if (e.key === 'Escape' && modal.style.display === 'flex') {\n        this.hideEditModal();\n      }\n    });\n  }\n\n  /**\n   * è®¾ç½®åº”ç”¨åˆ‡æ¢\n   */\n  setupAppToggle() {\n    const leftBtn = DOM.find('.switch-btn-left');\n    const rightBtn = DOM.find('.switch-btn-right');\n    const externalContainer = DOM.find('#app');\n    const internalContainer = DOM.find('#app1');\n\n    if (!leftBtn || !rightBtn || !externalContainer || !internalContainer) {\n      return;\n    }\n\n    // åŠ è½½ä¿å­˜çš„è§†å›¾çŠ¶æ€\n    const savedView = Helpers.Storage.get('homedock-app-view', 'external');\n    if (savedView === 'internal') {\n      leftBtn.classList.remove('active');\n      rightBtn.classList.add('active');\n      // âœ… æ›´æ–° ARIA çŠ¶æ€\n      leftBtn.setAttribute('aria-pressed', 'false');\n      rightBtn.setAttribute('aria-pressed', 'true');\n    } else {\n      leftBtn.classList.add('active');\n      rightBtn.classList.remove('active');\n      // âœ… æ›´æ–° ARIA çŠ¶æ€\n      leftBtn.setAttribute('aria-pressed', 'true');\n      rightBtn.setAttribute('aria-pressed', 'false');\n    }\n\n    this.updateAppView(savedView === 'internal', externalContainer, internalContainer);\n\n    // åˆ‡æ¢äº‹ä»¶\n    DOM.on(leftBtn, 'click', () => {\n      leftBtn.classList.add('active');\n      rightBtn.classList.remove('active');\n      // âœ… æ›´æ–° ARIA çŠ¶æ€\n      leftBtn.setAttribute('aria-pressed', 'true');\n      rightBtn.setAttribute('aria-pressed', 'false');\n      Helpers.Storage.set('homedock-app-view', 'external');\n      this.updateAppView(false, externalContainer, internalContainer);\n    });\n\n    DOM.on(rightBtn, 'click', () => {\n      rightBtn.classList.add('active');\n      leftBtn.classList.remove('active');\n      // âœ… æ›´æ–° ARIA çŠ¶æ€\n      rightBtn.setAttribute('aria-pressed', 'true');\n      leftBtn.setAttribute('aria-pressed', 'false');\n      Helpers.Storage.set('homedock-app-view', 'internal');\n      this.updateAppView(true, externalContainer, internalContainer);\n    });\n  }\n\n  /**\n   * æ›´æ–°åº”ç”¨è§†å›¾\n   */\n  updateAppView(isInternal, externalContainer, internalContainer) {\n    if (isInternal) {\n      DOM.hide(externalContainer);\n      DOM.show(internalContainer);\n    } else {\n      DOM.show(externalContainer);\n      DOM.hide(internalContainer);\n    }\n  }\n\n  /**\n   * è®¾ç½®æœç´¢å¼•æ“æ˜¾ç¤º\n   */\n  setupEngineDisplay() {\n    const searchEngine = DOM.find('#search-engine');\n    const currentEngineLabel = DOM.find('#current-engine-label');\n    const searchBox = DOM.find('#search-box');\n    const engineSelector = DOM.find('#search-engine-selector');\n    const dropdown = DOM.find('#search-engine-dropdown');\n    const dropdownItems = DOM.findAll('.dropdown-item');\n\n    if (!searchEngine || !currentEngineLabel || !searchBox || !engineSelector || !dropdown) {\n      return;\n    }\n\n    // åŠ è½½ä¿å­˜çš„æœç´¢å¼•æ“ï¼Œé»˜è®¤ä¸ºç™¾åº¦\n    const savedEngine = Helpers.Storage.get('homedock-search-engine', 'baidu');\n    searchEngine.value = savedEngine;\n\n    // æ›´æ–°æ˜¾ç¤º\n    this.updateEngineDisplay(savedEngine);\n\n    // å¼•æ“é€‰æ‹©å™¨ç‚¹å‡»äº‹ä»¶\n    DOM.on(engineSelector, 'click', (e) => {\n      e.stopPropagation();\n      this.toggleEngineDropdown();\n    });\n\n    // ä¸‹æ‹‰é¡¹ç‚¹å‡»äº‹ä»¶\n    dropdownItems.forEach(item => {\n      DOM.on(item, 'click', (e) => {\n        e.stopPropagation();\n        const engine = item.dataset.engine;\n        if (searchEngine.value !== engine) {\n          searchEngine.value = engine;\n          Helpers.Storage.set('homedock-search-engine', engine);\n          this.updateEngineDisplay(engine);\n        }\n        this.hideEngineDropdown();\n      });\n    });\n\n    // ç‚¹å‡»å…¶ä»–åœ°æ–¹å…³é—­ä¸‹æ‹‰èœå•\n    DOM.on(document, 'click', (e) => {\n      if (!e.target.closest('#search-engine-selector') && !e.target.closest('.search-engine-dropdown')) {\n        this.hideEngineDropdown();\n      }\n    });\n  }\n\n  toggleEngineDropdown() {\n    const engineSelector = DOM.find('#search-engine-selector');\n    const dropdown = DOM.find('#search-engine-dropdown');\n\n    if (dropdown.classList.contains('show')) {\n      this.hideEngineDropdown();\n    } else {\n      this.showEngineDropdown();\n    }\n  }\n\n  showEngineDropdown() {\n    const engineSelector = DOM.find('#search-engine-selector');\n    const dropdown = DOM.find('#search-engine-dropdown');\n\n    engineSelector.classList.add('open');\n    dropdown.classList.add('show');\n  }\n\n  hideEngineDropdown() {\n    const engineSelector = DOM.find('#search-engine-selector');\n    const dropdown = DOM.find('#search-engine-dropdown');\n\n    engineSelector.classList.remove('open');\n    dropdown.classList.remove('show');\n  }\n\n  /**\n   * æ›´æ–°æœç´¢å¼•æ“æ˜¾ç¤º\n   */\n  updateEngineDisplay(engine) {\n    const currentEngineLabel = DOM.find('#current-engine-label');\n    const searchEngineLogo = DOM.find('#search-engine-logo');\n    const searchBox = DOM.find('#search-box');\n\n    let iconSrc = '';\n    let altText = '';\n    let labelText = '';\n\n    switch (engine) {\n      case 'google':\n        iconSrc = 'img/google-official.svg';\n        altText = 'Google';\n        labelText = 'Google';\n        break;\n      case 'bing':\n        iconSrc = 'img/Bing.svg';\n        altText = 'Bing';\n        labelText = 'Bing';\n        break;\n      case 'baidu':\n        iconSrc = 'img/baidu.svg';\n        altText = 'Baidu';\n        labelText = 'ç™¾åº¦';\n        break;\n    }\n\n    // æ›´æ–°æœç´¢æ¡†ä¸Šæ–¹çš„logoå›¾æ ‡\n    if (searchEngineLogo) {\n      searchEngineLogo.src = iconSrc;\n      searchEngineLogo.alt = altText;\n    }\n\n    if (currentEngineLabel) {\n      currentEngineLabel.textContent = labelText;\n    }\n\n    // æ›´æ–°æ ·å¼\n    searchBox.classList.remove('engine-google', 'engine-bing', 'engine-baidu');\n    searchBox.classList.add(`engine-${engine}`);\n  }\n\n  /**\n   * æ‰“å¼€æ·»åŠ åº”ç”¨å¯¹è¯æ¡†\n   */\n  openAddApp(targetType) {\n    const modal = DOM.find('#editModal');\n    if (!modal) return;\n\n    // æ¸…ç©ºè¡¨å•\n    DOM.find('#appName').value = '';\n    DOM.find('#externalUrl').value = targetType === 'external' ? '' : '';\n    DOM.find('#internalUrl').value = targetType === 'internal' ? '' : '';\n    DOM.find('#iconPath').value = '';\n\n    // è®¾ç½®æ¨¡å¼\n    modal.dataset.appIndex = targetType === 'external' ? 'new-external' : 'new-internal';\n\n    // æ˜¾ç¤ºæ¨¡æ€æ¡†\n    DOM.show(modal);\n    modal.style.display = 'flex';\n\n    // èšç„¦åˆ°åç§°è¾“å…¥æ¡†\n    setTimeout(() => {\n      DOM.find('#appName').focus();\n    }, 100);\n  }\n\n  /**\n   * ç¼–è¾‘åº”ç”¨\n   */\n  async editApp(appIndex) {\n    const config = this.configManager.getCurrentConfig();\n    const app = config.applications[appIndex];\n\n    if (!app) {\n      NotificationUtils.showError('åº”ç”¨ä¸å­˜åœ¨');\n      return;\n    }\n\n    // å¡«å……è¡¨å•\n    DOM.find('#appName').value = app.name || '';\n    DOM.find('#externalUrl').value = app.external_url || '';\n    DOM.find('#internalUrl').value = app.internal_url || '';\n    DOM.find('#iconPath').value = app.icon || '';\n\n    // æ˜¾ç¤ºæ¨¡æ€æ¡†\n    const modal = DOM.find('#editModal');\n    modal.dataset.appIndex = appIndex;\n    DOM.show(modal);\n    modal.style.display = 'flex';\n\n    // èšç„¦åˆ°åç§°è¾“å…¥æ¡†\n    setTimeout(() => {\n      DOM.find('#appName').focus();\n    }, 100);\n  }\n\n  /**\n   * ä¿å­˜ç¼–è¾‘çš„åº”ç”¨\n   */\n  async saveEditedApp() {\n    const modal = DOM.find('#editModal');\n    const appIndexValue = modal.dataset.appIndex;\n\n    // è·å–è¡¨å•æ•°æ®\n    const formData = new FormData(DOM.find('#editForm'));\n    const appData = {\n      name: formData.get('appName')?.trim(),\n      external_url: formData.get('externalUrl')?.trim(),\n      internal_url: formData.get('internalUrl')?.trim(),\n      icon: formData.get('iconPath')?.trim()\n    };\n\n    // éªŒè¯å¿…å¡«å­—æ®µ\n    if (!appData.name) {\n      NotificationUtils.showError('è¯·è¾“å…¥åº”ç”¨åç§°');\n      return;\n    }\n\n    // éªŒè¯è‡³å°‘æœ‰ä¸€ä¸ªURL\n    if (!appData.external_url && !appData.internal_url) {\n      NotificationUtils.showError('è¯·è‡³å°‘è¾“å…¥ä¸€ä¸ªURLåœ°å€');\n      return;\n    }\n\n    // éªŒè¯URLæ ¼å¼\n    if (appData.external_url && !this.validateUrl(appData.external_url)) {\n      NotificationUtils.showError('å¤–éƒ¨URLæ ¼å¼ä¸æ­£ç¡®');\n      return;\n    }\n\n    if (appData.internal_url && !this.validateUrl(appData.internal_url)) {\n      NotificationUtils.showError('å†…éƒ¨URLæ ¼å¼ä¸æ­£ç¡®');\n      return;\n    }\n\n    try {\n      if (appIndexValue === 'new-external' || appIndexValue === 'new-internal') {\n        // æ–°å¢åº”ç”¨\n        await this.configManager.addApplication(appData);\n        NotificationUtils.showSuccess('åº”ç”¨æ·»åŠ æˆåŠŸ');\n      } else {\n        // æ›´æ–°åº”ç”¨\n        const appIndex = parseInt(appIndexValue, 10);\n        await this.configManager.updateApplication(appIndex, appData);\n        NotificationUtils.showSuccess('åº”ç”¨æ›´æ–°æˆåŠŸ');\n      }\n\n      this.hideEditModal();\n      this.appRenderer.refresh();\n\n    } catch (error) {\n      console.error('ä¿å­˜åº”ç”¨å¤±è´¥:', error);\n      NotificationUtils.showError('ä¿å­˜å¤±è´¥: ' + error.message);\n    }\n  }\n\n  /**\n   * åˆ é™¤åº”ç”¨\n   */\n  async deleteApp(appIndex) {\n    if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªåº”ç”¨å—ï¼Ÿ')) {\n      return;\n    }\n\n    try {\n      await this.configManager.deleteApplication(appIndex);\n      NotificationUtils.showSuccess('åº”ç”¨å·²åˆ é™¤');\n      this.appRenderer.refresh();\n    } catch (error) {\n      console.error('åˆ é™¤åº”ç”¨å¤±è´¥:', error);\n      NotificationUtils.showError('åˆ é™¤å¤±è´¥: ' + error.message);\n    }\n  }\n\n  /**\n   * éªŒè¯URLæ ¼å¼\n   */\n  validateUrl(url) {\n    if (!url || url === '#') {\n      return true; // å…è®¸é”šé“¾æ¥\n    }\n\n    try {\n      new URL(url);\n      return true;\n    } catch {\n      // å°è¯•æ·»åŠ åè®®\n      try {\n        new URL('http://' + url);\n        return true;\n      } catch {\n        return false;\n      }\n    }\n  }\n\n  /**\n   * éšè—ç¼–è¾‘æ¨¡æ€æ¡†\n   */\n  hideEditModal() {\n    const modal = DOM.find('#editModal');\n    if (modal) {\n      modal.style.display = 'none';\n    }\n  }\n\n  /**\n   * æ˜¾ç¤ºå›¾æ ‡é€‰æ‹©å™¨\n   */\n  showIconSelector() {\n    const picker = DOM.find('#iconPicker');\n    const grid = DOM.find('#iconPickerGrid');\n    const input = DOM.find('#iconPath');\n\n    if (!picker || !grid || !input) {\n      return;\n    }\n\n    if (picker.dataset.initialized !== 'true') {\n      const presetIcons = window.PRESET_ICONS || [];\n\n      grid.innerHTML = '';\n\n      presetIcons.forEach(icon => {\n        const item = DOM.create('div', {\n          className: 'icon-picker-item'\n        }, [\n          DOM.create('img', {\n            src: icon.path,\n            alt: icon.name\n          }),\n          DOM.create('span', {}, [icon.name])\n        ]);\n\n        DOM.on(item, 'click', () => {\n          input.value = icon.path;\n          input.focus();\n          picker.style.display = 'none';\n        });\n\n        grid.appendChild(item);\n      });\n\n      picker.dataset.initialized = 'true';\n    }\n\n    if (picker.style.display === 'block') {\n      picker.style.display = 'none';\n    } else {\n      picker.style.display = 'block';\n    }\n  }\n\n  /**\n   * è®¾ç½®æœç´¢åŠŸèƒ½\n   */\n  setupSearchFunction() {\n    const searchInput = DOM.find('#search-input');\n    if (!searchInput) return;\n\n    // å›è½¦æœç´¢\n    DOM.on(searchInput, 'keypress', (e) => {\n      if (e.key === 'Enter') {\n        this.performSearch();\n      }\n    });\n\n    // è‡ªåŠ¨å®ŒæˆåŠŸèƒ½\n    this.setupSearchAutocomplete(searchInput);\n  }\n\n  /**\n   * è®¾ç½®æœç´¢è‡ªåŠ¨å®Œæˆ\n   */\n  setupSearchAutocomplete(searchInput) {\n    const SEARCH_HISTORY_KEY = 'homedock-search-history';\n    let autocompleteTimeout;\n\n    DOM.on(searchInput, 'input', (e) => {\n      clearTimeout(autocompleteTimeout);\n      const query = e.target.value.trim();\n\n      if (query.length < 2) {\n        this.hideAutocomplete();\n        return;\n      }\n\n      autocompleteTimeout = setTimeout(() => {\n        this.showAutocomplete(query, SEARCH_HISTORY_KEY);\n      }, 200);\n    });\n\n    // ç‚¹å‡»å…¶ä»–åœ°æ–¹éšè—è‡ªåŠ¨å®Œæˆ\n    DOM.on(document, 'click', (e) => {\n      if (!e.target.closest('.search-autocomplete') && e.target !== searchInput) {\n        this.hideAutocomplete();\n      }\n    });\n  }\n\n  /**\n   * æ˜¾ç¤ºè‡ªåŠ¨å®Œæˆ\n   */\n  showAutocomplete(query, historyKey) {\n    const history = Helpers.Storage.get(historyKey, []);\n    const filtered = history.filter(item =>\n      item.toLowerCase().includes(query.toLowerCase())\n    ).slice(0, 5);\n\n    if (filtered.length === 0) {\n      this.hideAutocomplete();\n      return;\n    }\n\n    const searchInput = DOM.find('#search-input');\n    const autocomplete = DOM.create('div', {\n      className: 'search-autocomplete'\n    });\n\n    filtered.forEach(item => {\n      const suggestion = DOM.create('div', {\n        className: 'search-suggestion',\n        onclick: () => {\n          searchInput.value = item;\n          this.performSearch();\n          this.hideAutocomplete();\n        }\n      }, [Helpers.escapeHtml(item)]);\n\n      autocomplete.appendChild(suggestion);\n    });\n\n    // æ’å…¥åˆ°æœç´¢æ¡†åé¢\n    const searchBox = DOM.find('#search-box');\n    const existing = DOM.find('.search-autocomplete');\n    if (existing) {\n      searchBox.removeChild(existing);\n    }\n\n    searchBox.appendChild(autocomplete);\n  }\n\n  /**\n   * éšè—è‡ªåŠ¨å®Œæˆ\n   */\n  hideAutocomplete() {\n    const autocomplete = DOM.find('.search-autocomplete');\n    if (autocomplete) {\n      autocomplete.parentNode.removeChild(autocomplete);\n    }\n  }\n\n  /**\n   * æ‰§è¡Œæœç´¢\n   */\n  performSearch() {\n    const searchInput = DOM.find('#search-input');\n    const searchEngine = DOM.find('#search-engine');\n    const query = searchInput.value.trim();\n\n    if (!query) {\n      NotificationUtils.showError('è¯·è¾“å…¥æœç´¢å†…å®¹');\n      return;\n    }\n\n    // ä¿å­˜æœç´¢å†å²\n    const SEARCH_HISTORY_KEY = 'homedock-search-history';\n    let history = Helpers.Storage.get(SEARCH_HISTORY_KEY, []);\n    history = history.filter(item => item !== query);\n    history.unshift(query);\n    history = history.slice(0, 10);\n    Helpers.Storage.set(SEARCH_HISTORY_KEY, history);\n\n    // æ‰§è¡Œæœç´¢\n    const currentEngine = searchEngine.value;\n    let searchUrl;\n\n    switch (currentEngine) {\n      case 'google':\n        searchUrl = `https://www.google.com/search?q=${encodeURIComponent(query)}`;\n        break;\n      case 'bing':\n        searchUrl = `https://cn.bing.com/search?q=${encodeURIComponent(query)}`;\n        break;\n      case 'baidu':\n        searchUrl = `https://www.baidu.com/s?wd=${encodeURIComponent(query)}`;\n        break;\n      default:\n        searchUrl = `https://www.google.com/search?q=${encodeURIComponent(query)}`;\n    }\n\n    window.open(searchUrl, '_blank');\n  }\n}\n\n// åˆ›å»ºå…¨å±€å®ä¾‹\nwindow.UIManager = new UIController();\n\n\n// ===== js/modules/search-engine.js =====\n/**\n * æœç´¢å¼•æ“æ¨¡å—\n * è´Ÿè´£æœç´¢åŠŸèƒ½å’ŒèƒŒæ™¯ç®¡ç†\n */\nclass SearchEngine {\n  constructor() {\n    this.configManager = window.ConfigManager;\n    this.init();\n  }\n\n  init() {\n    this.setupBackgroundManager();\n    this.setupSearchShortcuts();\n  }\n\n  /**\n   * è®¾ç½®èƒŒæ™¯ç®¡ç†\n   */\n  setupBackgroundManager() {\n    const changeWallpaperBtn = DOM.find('#change-wallpaper-btn');\n    if (changeWallpaperBtn) {\n      DOM.on(changeWallpaperBtn, 'click', () => {\n        this.changeWallpaper();\n      });\n    }\n  }\n\n  /**\n   * åº”ç”¨èƒŒæ™¯é…ç½®\n   */\n  applyBackgroundFromConfig(forceRefreshWallpaper = false) {\n    const config = this.configManager.getCurrentConfig();\n    if (!config) {\n      this.setupBingBackground();\n      this.applyBackgroundBlur('light');\n      return;\n    }\n\n    const changeWallpaperBtn = DOM.find('#change-wallpaper-btn');\n    const bg = config.background;\n\n    if (!bg || !bg.mode) {\n      if (changeWallpaperBtn) DOM.show(changeWallpaperBtn);\n      this.setupBingBackground();\n      this.applyBackgroundBlur('light');\n      return;\n    }\n\n    // åº”ç”¨èƒŒæ™¯æ¨¡ç³Šåº¦\n    this.applyBackgroundBlur(bg.blur || 'light');\n\n    switch (bg.mode) {\n      case 'wallpaper':\n        if (changeWallpaperBtn) DOM.show(changeWallpaperBtn);\n        this.setupBingBackground(forceRefreshWallpaper);\n        break;\n\n      case 'solid':\n        if (changeWallpaperBtn) DOM.hide(changeWallpaperBtn);\n        this.applySolidBackground(bg.solidColor || '#202124');\n        break;\n\n      case 'gradient':\n        if (changeWallpaperBtn) DOM.hide(changeWallpaperBtn);\n        this.applyGradientBackground(\n          bg.gradientFrom || '#141e30',\n          bg.gradientTo || '#243b55'\n        );\n        break;\n\n      default:\n        if (changeWallpaperBtn) DOM.show(changeWallpaperBtn);\n        this.setupBingBackground();\n    }\n  }\n\n  /**\n   * è®¾ç½®å¿…åº”å£çº¸\n   */\n  setupBingBackground(forceRefresh = false) {\n    const timestamp = forceRefresh ? Date.now() : '';\n    const imageUrl = this.resolveWallpaperUrl(`ts=${timestamp}`);\n\n    console.log('ğŸ–¼ï¸ Setting up Bing wallpaper:', imageUrl);\n\n    // ğŸš€ æ€§èƒ½ä¼˜åŒ–ï¼šç«‹å³è®¾ç½®åŸºç¡€èƒŒæ™¯è‰²ï¼Œé¿å…ç™½å±\n    document.body.style.backgroundColor = '#000000';\n    document.body.style.backgroundRepeat = 'no-repeat';\n    document.body.style.backgroundPosition = 'center center';\n    document.body.style.backgroundAttachment = 'fixed';\n    // æ‹‰ä¼¸å›¾ç‰‡å¡«æ»¡æ•´ä¸ªå±å¹•\n    document.body.style.backgroundSize = '100% 100%';\n\n    // å¼‚æ­¥åŠ è½½å£çº¸å›¾ç‰‡\n    const img = new Image();\n\n    img.onload = () => {\n      console.log('âœ… Bing wallpaper loaded successfully');\n      // å›¾ç‰‡åŠ è½½å®Œæˆåæ›¿æ¢èƒŒæ™¯\n      document.body.style.backgroundImage =\n        `linear-gradient(rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.35)), url('${imageUrl}')`;\n      // æ‹‰ä¼¸å›¾ç‰‡å¡«æ»¡æ•´ä¸ªå±å¹•\n      document.body.style.backgroundRepeat = 'no-repeat';\n      document.body.style.backgroundSize = '100% 100%';\n      document.body.style.backgroundPosition = 'center center';\n      document.body.style.backgroundAttachment = 'fixed';\n    };\n\n    img.onerror = (error) => {\n      console.warn('âŒ Failed to load Bing wallpaper, using fallback:', error);\n      this.applyGradientBackground('#141e30', '#243b55');\n    };\n\n    // æ·»åŠ è¶…æ—¶å¤„ç†\n    img.addEventListener('error', () => {\n      console.warn('â° Bing wallpaper load timeout');\n      this.applyGradientBackground('#141e30', '#243b55');\n    }, { once: true });\n\n    // è®¾ç½®è¶…æ—¶\n    setTimeout(() => {\n      if (!img.complete) {\n        img.src = ''; // å–æ¶ˆåŠ è½½\n        img.onerror(new Error('Timeout'));\n      }\n    }, 10000); // 10ç§’è¶…æ—¶\n\n    // å¼€å§‹å¼‚æ­¥åŠ è½½\n    img.src = imageUrl;\n  }\n\n  /**\n   * åº”ç”¨çº¯è‰²èƒŒæ™¯\n   */\n  applySolidBackground(color) {\n    document.body.style.backgroundImage = 'none';\n    document.body.style.backgroundColor = color;\n    document.body.style.backgroundRepeat = 'repeat';\n    document.body.style.backgroundSize = 'auto';\n    document.body.style.backgroundPosition = 'top left';\n    document.body.style.backgroundAttachment = 'scroll';\n  }\n\n  /**\n   * åº”ç”¨æ¸å˜èƒŒæ™¯\n   */\n  applyGradientBackground(fromColor, toColor) {\n    document.body.style.backgroundImage =\n      `linear-gradient(135deg, ${fromColor}, ${toColor})`;\n    document.body.style.backgroundColor = '#000000';\n    document.body.style.backgroundRepeat = 'no-repeat';\n    document.body.style.backgroundSize = 'cover';\n    document.body.style.backgroundPosition = 'center center';\n    document.body.style.backgroundAttachment = 'fixed';\n  }\n\n  /**\n   * æ›´æ¢å£çº¸\n   */\n  async changeWallpaper() {\n    try {\n      this.applyBackgroundFromConfig(true);\n    } catch (error) {\n      console.error('Failed to change wallpaper:', error);\n    }\n  }\n\n  /**\n   * è®¾ç½®æœç´¢å¿«æ·é”®\n   */\n  setupSearchShortcuts() {\n    DOM.on(document, 'keydown', (e) => {\n      // Ctrl/Cmd + K èšç„¦æœç´¢æ¡†\n      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {\n        e.preventDefault();\n        const searchInput = DOM.find('#search-input');\n        if (searchInput) {\n          searchInput.focus();\n          searchInput.select();\n        }\n      }\n\n      // ESC æ¸…ç©ºæœç´¢æ¡†\n      if (e.key === 'Escape') {\n        const searchInput = DOM.find('#search-input');\n        if (searchInput === document.activeElement) {\n          searchInput.value = '';\n          searchInput.blur();\n          this.hideAutocomplete();\n        }\n      }\n    });\n\n    // æœç´¢æ¡†ç„¦ç‚¹æ•ˆæœ\n    const searchInput = DOM.find('#search-input');\n    if (searchInput) {\n      DOM.on(searchInput, 'focus', () => {\n        searchInput.parentElement.classList.add('search-focused');\n      });\n\n      DOM.on(searchInput, 'blur', () => {\n        searchInput.parentElement.classList.remove('search-focused');\n      });\n    }\n  }\n\n  /**\n   * æœç´¢å»ºè®®åŠŸèƒ½\n   */\n  async getSearchSuggestions(query) {\n    if (query.length < 2) return [];\n\n    try {\n      // è¿™é‡Œå¯ä»¥é›†æˆå®é™…çš„æœç´¢å»ºè®®API\n      // ä¾‹å¦‚ Google Suggest API æˆ–å…¶ä»–æœåŠ¡\n      const suggestions = await this.fetchGoogleSuggestions(query);\n      return suggestions;\n    } catch (error) {\n      console.warn('Failed to fetch search suggestions:', error);\n      return [];\n    }\n  }\n\n  /**\n   * è·å–Googleæœç´¢å»ºè®®\n   */\n  async fetchGoogleSuggestions(query) {\n    try {\n      const response = await fetch(\n        `https://suggestqueries.google.com/complete/search?client=firefox&q=${encodeURIComponent(query)}`,\n        { mode: 'cors' }\n      );\n\n      // ç”±äºCORSé™åˆ¶ï¼Œè¿™é‡Œå¯èƒ½éœ€è¦ä½¿ç”¨ä»£ç†æˆ–å…¶ä»–æ–¹æ³•\n      // æš‚æ—¶è¿”å›ç©ºæ•°ç»„\n      return [];\n    } catch (error) {\n      return [];\n    }\n  }\n\n  /**\n   * éšè—è‡ªåŠ¨å®Œæˆ\n   */\n  hideAutocomplete() {\n    // ç”±UIControllerå¤„ç†\n    const autocomplete = DOM.find('.search-autocomplete');\n    if (autocomplete) {\n      autocomplete.parentNode.removeChild(autocomplete);\n    }\n  }\n\n  /**\n   * é¢„åŠ è½½ä¸‹ä¸€å¼ å£çº¸\n   */\n  preloadNextWallpaper() {\n    try {\n      const preloadImg = new Image();\n      preloadImg.onload = () => {\n        console.log('âœ… å£çº¸é¢„åŠ è½½æˆåŠŸ');\n      };\n      preloadImg.onerror = () => {\n        console.warn('âš ï¸ å£çº¸é¢„åŠ è½½å¤±è´¥');\n      };\n      preloadImg.src = this.resolveWallpaperUrl(\n        'preload=true&ts=' + Date.now()\n      );\n    } catch (error) {\n      console.warn('âš ï¸ å£çº¸é¢„åŠ è½½å‡ºé”™:', error);\n    }\n  }\n\n  resolveWallpaperUrl(query) {\n    try {\n      const { origin, hostname } = window.location || {};\n      if (hostname && hostname.endsWith('.pages.dev')) {\n        return `https://homedock.piaozhitian.workers.dev/bing-wallpaper?${query}`;\n      }\n      if (origin && origin.startsWith('http')) {\n        return origin.replace(/\\/+$/, '') + `/bing-wallpaper?${query}`;\n      }\n      return `/bing-wallpaper?${query}`;\n    } catch (e) {\n      console.warn('å£çº¸åœ°å€è§£æå¤±è´¥ï¼Œå›é€€åˆ°ç›¸å¯¹è·¯å¾„', e);\n      return `/bing-wallpaper?${query}`;\n    }\n  }\n\n  /**\n   * è®¾ç½®å£çº¸å®šæ—¶åˆ‡æ¢\n   */\n  setupWallpaperAutoChange(interval = 3600000) {\n    const autoChangeKey = 'homedock-auto-change-wallpaper';\n    const enabled = Helpers.Storage.get(autoChangeKey, false);\n\n    if (enabled) {\n      setInterval(() => {\n        this.changeWallpaper();\n      }, interval);\n    }\n  }\n\n  /**\n   * èƒŒæ™¯æ€§èƒ½ä¼˜åŒ–\n   */\n  optimizeBackgroundPerformance() {\n    document.body.style.willChange = 'background-image';\n\n    const isLowPerformance = this.detectLowPerformanceDevice();\n\n    if (isLowPerformance) {\n      const config = this.configManager.getCurrentConfig();\n      if (config && config.background && config.background.mode === 'wallpaper') {\n        this.applySolidBackground('#202124');\n      }\n    }\n  }\n\n  /**\n   * æ£€æµ‹ä½æ€§èƒ½è®¾å¤‡\n   */\n  detectLowPerformanceDevice() {\n    const memory = navigator.deviceMemory || 4;\n    const connection =\n      navigator.connection ||\n      navigator.mozConnection ||\n      navigator.webkitConnection;\n\n    return (\n      memory < 2 ||\n      (connection &&\n        connection.effectiveType &&\n        ['slow-2g', '2g', '3g'].includes(connection.effectiveType))\n    );\n  }\n\n  /**\n   * è®¾ç½®èƒŒæ™¯ç¼“å­˜ç­–ç•¥\n   */\n  setupBackgroundCaching() {\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.ready.then((registration) => {\n        registration.addEventListener('message', (event) => {\n          if (event.data.type === 'CACHE_UPDATED') {\n            console.log('Background cache updated');\n          }\n        });\n      });\n    }\n  }\n\n  /**\n   * åº”ç”¨èƒŒæ™¯æ¨¡ç³Šæ•ˆæœ\n   */\n  applyBackgroundBlur(blurLevel) {\n    const body = document.body;\n\n    body.classList.remove(\n      'bg-blur-none',\n      'bg-blur-light',\n      'bg-blur-medium',\n      'bg-blur-heavy'\n    );\n\n    switch (blurLevel) {\n      case 'none':\n        body.classList.add('bg-blur-none');\n        break;\n      case 'light':\n        body.classList.add('bg-blur-light');\n        break;\n      case 'medium':\n        body.classList.add('bg-blur-medium');\n        break;\n      case 'heavy':\n        body.classList.add('bg-blur-heavy');\n        break;\n      default:\n        body.classList.add('bg-blur-light');\n        break;\n    }\n\n    console.log('ğŸ¨ Applied background blur level:', blurLevel);\n  }\n}\n\n// åˆ›å»ºå…¨å±€å®ä¾‹\nwindow.SearchEngine = new SearchEngine();\n\n\n// ===== js/preset-icons.js =====\nif (!window.PRESET_ICONS) {\n  window.PRESET_ICONS = [\n    { path: 'img/png/Edge.svg', name: 'Edge' },\n    { path: 'img/png/Firefox.svg', name: 'Firefox' },\n    { path: 'img/png/Adminer.svg', name: 'Adminer' },\n    { path: 'img/png/Ai.svg', name: 'Ai' },\n    { path: 'img/png/Alist.svg', name: 'Alist' },\n    { path: 'img/png/Aria2.svg', name: 'Aria2' },\n    { path: 'img/png/Book.svg', name: 'Book' },\n    { path: 'img/png/Calibre.png', name: 'Calibre' },\n    { path: 'img/png/Chatgpt.png', name: 'ChatGPT' },\n    { path: 'img/png/Cloud.svg', name: 'Cloud' },\n    { path: 'img/png/Downloads.png', name: 'Downloads' },\n    { path: 'img/png/Emby.svg', name: 'Emby' },\n    { path: 'img/png/FaceTime.png', name: 'FaceTime' },\n    { path: 'img/png/File.svg', name: 'File' },\n    { path: 'img/png/FileBrowser.svg', name: 'FileBrowser' },\n    { path: 'img/png/FileSync.svg', name: 'FileSync' },\n    { path: 'img/png/HPE.svg', name: 'HPE' },\n    { path: 'img/png/Homarr.png', name: 'Homarr' },\n    { path: 'img/png/Jellyfin.svg', name: 'Jellyfin' },\n    { path: 'img/png/KMS.svg', name: 'KMS' },\n    { path: 'img/png/Lucky.svg', name: 'Lucky' },\n    { path: 'img/png/MariaDB.svg', name: 'MariaDB' },\n    { path: 'img/png/MovieTool.svg', name: 'MovieTool' },\n    { path: 'img/png/Music.svg', name: 'Music' },\n    { path: 'img/png/MyAdmin.svg', name: 'MyAdmin' },\n    { path: 'img/png/NasTool.svg', name: 'NasTool' },\n    { path: 'img/png/Openwrt.svg', name: 'OpenWrt' },\n    { path: 'img/png/PVE.svg', name: 'PVE' },\n    { path: 'img/png/Photos.svg', name: 'Photos' },\n    { path: 'img/png/Podcats.png', name: 'Podcasts' },\n    { path: 'img/png/Portainer.svg', name: 'Portainer' },\n    { path: 'img/png/Print.svg', name: 'Print' },\n    { path: 'img/png/Qb.svg', name: 'Qbittorrent' },\n    { path: 'img/png/QingLong.svg', name: 'QingLong' },\n    { path: 'img/png/S-PDF.svg', name: 'S-PDF' },\n    { path: 'img/png/Sam.svg', name: 'Sam' },\n    { path: 'img/png/Server.svg', name: 'Server' },\n    { path: 'img/png/Settings.png', name: 'Settings' },\n    { path: 'img/png/Thunder.png', name: 'Thunder' },\n    { path: 'img/png/Transmission.png', name: 'Transmission' },\n    { path: 'img/png/Unraid.svg', name: 'Unraid' },\n    { path: 'img/png/VM.svg', name: 'VM' },\n    { path: 'img/png/Videos.svg', name: 'Videos' },\n    { path: 'img/png/XunLei.svg', name: 'XunLei' },\n    { path: 'img/png/iCloud-Drive.png', name: 'iCloud Drive' },\n    { path: 'img/png/nginxWebUI.png', name: 'nginxWebUI' },\n    { path: 'img/png/favicon.svg', name: 'Favicon' },\n    { path: 'img/png/favicon2.svg', name: 'Favicon2' },\n    { path: 'img/png/logo.svg', name: 'Logo' },\n    { path: 'img/png/çŒ«logo2.svg', name: 'çŒ«Logo' },\n    { path: 'img/png/DPanel.svg', name: 'DPanel' },\n    { path: 'img/png/AdGuard.svg', name: 'AdGuard' },\n    { path: 'img/png/Esxi.svg', name: 'Esxi' }\n  ];\n}\n\n\n// ===== js/utils/service-worker.js =====\n/**\n * Service Worker æ³¨å†Œå™¨\n * è´Ÿè´£æ³¨å†Œã€æ›´æ–°å’Œç®¡ç†Service Worker\n */\nclass ServiceWorkerManager {\n  constructor() {\n    this.swUrl = '/sw.js';\n    this.isSupported = 'serviceWorker' in navigator;\n    this.controller = null;\n    this.updateAvailable = false;\n    this.init();\n  }\n\n  init() {\n    if (!this.isSupported) {\n      console.warn('Service Worker not supported');\n      return;\n    }\n\n    // æ³¨å†ŒService Worker\n    this.registerServiceWorker();\n\n    // ç›‘å¬Service Workeræ¶ˆæ¯\n    this.setupMessageListener();\n\n    // æ£€æŸ¥æ›´æ–°\n    this.checkForUpdates();\n  }\n\n  /**\n   * æ³¨å†ŒService Worker\n   */\n  async registerServiceWorker() {\n    try {\n      const registration = await navigator.serviceWorker.register(this.swUrl, {\n        scope: '/'\n      });\n\n      console.log('Service Worker registered successfully:', registration);\n\n      // ç›‘å¬æ›´æ–°\n      registration.addEventListener('updatefound', () => {\n        const newWorker = registration.installing;\n\n        newWorker.addEventListener('statechange', () => {\n          if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n            // æœ‰æ–°ç‰ˆæœ¬å¯ç”¨\n            this.updateAvailable = true;\n            this.showUpdateNotification();\n          }\n        });\n      });\n\n      // è·å–å½“å‰æ§åˆ¶çš„Service Worker\n      if (navigator.serviceWorker.controller) {\n        this.controller = navigator.serviceWorker.controller;\n      }\n\n      // ç›‘å¬æ§åˆ¶å™¨å˜åŒ–\n      navigator.serviceWorker.addEventListener('controllerchange', () => {\n        this.controller = navigator.serviceWorker.controller;\n        window.location.reload(); // é‡æ–°åŠ è½½é¡µé¢ä»¥åº”ç”¨æ–°ç‰ˆæœ¬\n      });\n\n    } catch (error) {\n      console.error('Service Worker registration failed:', error);\n    }\n  }\n\n  /**\n   * è®¾ç½®æ¶ˆæ¯ç›‘å¬å™¨\n   */\n  setupMessageListener() {\n    const channel = new MessageChannel();\n\n    // ç›‘å¬æ¥è‡ªService Workerçš„æ¶ˆæ¯\n    navigator.serviceWorker.addEventListener('message', (event) => {\n      const { type, data } = event.data;\n\n      switch (type) {\n        case 'CACHE_UPDATED':\n          console.log('Cache updated:', data);\n          break;\n\n        case 'SYNC_COMPLETED':\n          console.log('Background sync completed');\n          break;\n\n        default:\n          console.log('Service Worker message:', type, data);\n      }\n    });\n  }\n\n  /**\n   * æ£€æŸ¥æ›´æ–°\n   */\n  async checkForUpdates() {\n    if (!navigator.serviceWorker.controller) {\n      return;\n    }\n\n    try {\n      // å‘Service Workerå‘é€è·å–ç‰ˆæœ¬çš„æ¶ˆæ¯\n      const channel = new MessageChannel();\n\n      channel.port1.onmessage = (event) => {\n        const { version } = event.data;\n        console.log('Service Worker version:', version);\n      };\n\n      navigator.serviceWorker.controller.postMessage(\n        { type: 'GET_VERSION' },\n        [channel.port2]\n      );\n\n    } catch (error) {\n      console.error('Failed to check for updates:', error);\n    }\n  }\n\n  /**\n   * æ˜¾ç¤ºæ›´æ–°é€šçŸ¥\n   */\n  showUpdateNotification() {\n    NotificationUtils.showSuccess('å‘ç°æ–°ç‰ˆæœ¬ï¼Œç‚¹å‡»åˆ·æ–°æŒ‰é’®æ›´æ–°', 8000);\n\n    // æ·»åŠ æ›´æ–°æŒ‰é’®åˆ°é¡µé¢\n    this.addUpdateButton();\n  }\n\n  /**\n   * æ·»åŠ æ›´æ–°æŒ‰é’®\n   */\n  addUpdateButton() {\n    // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨æ›´æ–°æŒ‰é’®\n    if (DOM.find('#update-button')) {\n      return;\n    }\n\n    const updateBtn = DOM.create('button', {\n      id: 'update-button',\n      className: 'update-button',\n      innerHTML: 'ğŸ”„ æ›´æ–°',\n      onclick: () => this.applyUpdate()\n    });\n\n    // æ·»åŠ åˆ°é¡µé¢\n    const container = DOM.find('#kg-btn') || DOM.find('#wrap');\n    if (container) {\n      container.appendChild(updateBtn);\n    }\n\n    // æ·»åŠ æ ·å¼\n    this.addUpdateButtonStyles();\n  }\n\n  /**\n   * åº”ç”¨æ›´æ–°\n   */\n  async applyUpdate() {\n    if (!this.updateAvailable) {\n      return;\n    }\n\n    try {\n      // é€šçŸ¥Service Workerè·³è¿‡ç­‰å¾…\n      const channel = new MessageChannel();\n\n      navigator.serviceWorker.controller.postMessage(\n        { type: 'SKIP_WAITING' },\n        [channel.port2]\n      );\n\n      NotificationUtils.showSuccess('æ­£åœ¨æ›´æ–°åº”ç”¨...');\n\n      // æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨\n      this.showLoadingOverlay();\n\n    } catch (error) {\n      console.error('Failed to apply update:', error);\n      NotificationUtils.showError('æ›´æ–°å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨åˆ·æ–°é¡µé¢');\n    }\n  }\n\n  /**\n   * æ˜¾ç¤ºåŠ è½½é®ç½©\n   */\n  showLoadingOverlay() {\n    const overlay = DOM.create('div', {\n      id: 'update-loading-overlay',\n      className: 'update-loading-overlay'\n    }, [\n      DOM.create('div', {\n        className: 'update-loading-content'\n      }, [\n        DOM.create('div', { className: 'update-loading-spinner' }),\n        DOM.create('p', {}, ['æ­£åœ¨æ›´æ–°åº”ç”¨...'])\n      ])\n    ]);\n\n    document.body.appendChild(overlay);\n  }\n\n  /**\n   * æ·»åŠ æ›´æ–°æŒ‰é’®æ ·å¼\n   */\n  addUpdateButtonStyles() {\n    if (document.getElementById('update-button-styles')) {\n      return;\n    }\n\n    const styles = DOM.create('style', {\n      id: 'update-button-styles'\n    });\n\n    styles.textContent = `\n      .update-button {\n        background: linear-gradient(135deg, #28a745, #20c997);\n        color: white;\n        border: none;\n        padding: 8px 16px;\n        border-radius: 20px;\n        font-size: 12px;\n        cursor: pointer;\n        margin-left: 10px;\n        transition: all 0.3s ease;\n        box-shadow: 0 2px 8px rgba(40, 167, 69, 0.3);\n      }\n\n      .update-button:hover {\n        transform: translateY(-1px);\n        box-shadow: 0 4px 12px rgba(40, 167, 69, 0.4);\n      }\n\n      .update-loading-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.8);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 99999;\n        backdrop-filter: blur(5px);\n      }\n\n      .update-loading-content {\n        text-align: center;\n        color: white;\n      }\n\n      .update-loading-spinner {\n        width: 40px;\n        height: 40px;\n        border: 3px solid rgba(255, 255, 255, 0.3);\n        border-radius: 50%;\n        border-top-color: white;\n        animation: update-spin 1s ease-in-out infinite;\n        margin: 0 auto 20px;\n      }\n\n      @keyframes update-spin {\n        to { transform: rotate(360deg); }\n      }\n    `;\n\n    document.head.appendChild(styles);\n  }\n\n  /**\n   * æ¸…é™¤ç¼“å­˜\n   */\n  async clearCache() {\n    if (!navigator.serviceWorker.controller) {\n      NotificationUtils.showError('Service Workeræœªæ¿€æ´»');\n      return;\n    }\n\n    try {\n      const channel = new MessageChannel();\n\n      channel.port1.onmessage = (event) => {\n        const { success } = event.data;\n        if (success) {\n          NotificationUtils.showSuccess('ç¼“å­˜å·²æ¸…é™¤');\n        } else {\n          NotificationUtils.showError('æ¸…é™¤ç¼“å­˜å¤±è´¥');\n        }\n      };\n\n      navigator.serviceWorker.controller.postMessage(\n        { type: 'CLEAR_CACHE' },\n        [channel.port2]\n      );\n\n    } catch (error) {\n      console.error('Failed to clear cache:', error);\n      NotificationUtils.showError('æ¸…é™¤ç¼“å­˜å¤±è´¥');\n    }\n  }\n\n  /**\n   * è·å–ç¼“å­˜ç»Ÿè®¡\n   */\n  async getCacheStats() {\n    if (!navigator.serviceWorker.controller) {\n      return null;\n    }\n\n    try {\n      const channel = new MessageChannel();\n\n      return new Promise((resolve) => {\n        channel.port1.onmessage = (event) => {\n          resolve(event.data.stats);\n        };\n\n        navigator.serviceWorker.controller.postMessage(\n          { type: 'GET_CACHE_STATS' },\n          [channel.port2]\n        );\n      });\n\n    } catch (error) {\n      console.error('Failed to get cache stats:', error);\n      return null;\n    }\n  }\n\n  /**\n   * é¢„åŠ è½½å›¾ç‰‡\n   */\n  async preloadImages(urls) {\n    if (!navigator.serviceWorker.controller || !urls.length) {\n      return;\n    }\n\n    try {\n      const channel = new MessageChannel();\n\n      channel.port1.onmessage = (event) => {\n        const { success } = event.data;\n        if (success) {\n          console.log('Images preloaded successfully');\n        }\n      };\n\n      navigator.serviceWorker.controller.postMessage(\n        { type: 'PRELOAD_IMAGES', data: { urls } },\n        [channel.port2]\n      );\n\n    } catch (error) {\n      console.error('Failed to preload images:', error);\n    }\n  }\n}\n\n// åˆ›å»ºå…¨å±€å®ä¾‹\nwindow.ServiceWorkerManager = new ServiceWorkerManager();\n\n// ===== js/utils/image-optimizer.js =====\n/**\n * å›¾ç‰‡ä¼˜åŒ–å·¥å…·\n * æ”¯æŒæ‡’åŠ è½½ã€WebPæ ¼å¼ã€é¢„åŠ è½½ç­‰åŠŸèƒ½\n */\nclass ImageOptimizer {\n  constructor() {\n    this.supportsWebP = this.checkWebPSupport();\n    this.loadedImages = new Set();\n    this.observerOptions = {\n      root: null,\n      rootMargin: '50px',\n      threshold: 0.1\n    };\n    this.init();\n  }\n\n  init() {\n    // åˆå§‹åŒ–æ‡’åŠ è½½è§‚å¯Ÿå™¨\n    this.initLazyLoading();\n\n    // é¢„åŠ è½½å…³é”®å›¾ç‰‡\n    this.preloadCriticalImages();\n\n    // ç›‘å¬å›¾ç‰‡é”™è¯¯\n    this.setupImageErrorHandling();\n  }\n\n  /**\n   * æ£€æŸ¥WebPæ”¯æŒ\n   */\n  checkWebPSupport() {\n    return Promise.resolve(false);\n  }\n\n  /**\n   * è·å–ä¼˜åŒ–åçš„å›¾ç‰‡URL\n   */\n  async getOptimizedImageUrl(originalUrl, options = {}) {\n    if (!originalUrl || originalUrl.startsWith('#')) {\n      return originalUrl;\n    }\n\n    const {\n      width,\n      height,\n      quality = 80,\n      format = 'auto'\n    } = options;\n\n    // å¦‚æœæ˜¯å¤–éƒ¨URLï¼Œç›´æ¥è¿”å›\n    if (originalUrl.startsWith('http')) {\n      return originalUrl;\n    }\n\n    // æ„å»ºä¼˜åŒ–çš„URL\n    let optimizedUrl = originalUrl;\n\n    // æ£€æŸ¥WebPæ”¯æŒ\n    if (format === 'auto') {\n      const webPSupported = await this.supportsWebP;\n      if (webPSupported && this.canConvertToWebP(originalUrl)) {\n        optimizedUrl = originalUrl.replace(/\\.(png|jpg|jpeg)$/i, '.webp');\n      }\n    } else if (format === 'webp') {\n      optimizedUrl = originalUrl.replace(/\\.(png|jpg|jpeg)$/i, '.webp');\n    }\n\n    // æ·»åŠ å°ºå¯¸å‚æ•°ï¼ˆå¦‚æœæ”¯æŒï¼‰\n    if ((width || height) && this.supportsImageParams(optimizedUrl)) {\n      const params = new URLSearchParams();\n      if (width) params.append('w', width);\n      if (height) params.append('h', height);\n      if (quality !== 80) params.append('q', quality);\n\n      const separator = optimizedUrl.includes('?') ? '&' : '?';\n      optimizedUrl += separator + params.toString();\n    }\n\n    return optimizedUrl;\n  }\n\n  /**\n   * æ£€æŸ¥æ˜¯å¦å¯ä»¥è½¬æ¢ä¸ºWebP\n   */\n  canConvertToWebP(url) {\n    const webpExtensions = ['.png', '.jpg', '.jpeg', '.gif'];\n    return webpExtensions.some(ext => url.toLowerCase().endsWith(ext));\n  }\n\n  /**\n   * æ£€æŸ¥URLæ˜¯å¦æ”¯æŒå›¾ç‰‡å‚æ•°\n   */\n  supportsImageParams(url) {\n    // è¿™é‡Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µåˆ¤æ–­æ˜¯å¦æ”¯æŒå‚æ•°åŒ–URL\n    // ä¾‹å¦‚ï¼šCDNæœåŠ¡ã€å›¾ç‰‡å¤„ç†æœåŠ¡ç­‰\n    return false;\n  }\n\n  /**\n   * åˆå§‹åŒ–æ‡’åŠ è½½\n   */\n  initLazyLoading() {\n    if (!('IntersectionObserver' in window)) {\n      // å›é€€åˆ°ç«‹å³åŠ è½½\n      this.loadAllImages();\n      return;\n    }\n\n    const observer = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          this.loadImage(entry.target);\n          observer.unobserve(entry.target);\n        }\n      });\n    }, this.observerOptions);\n\n    // è§‚å¯Ÿæ‰€æœ‰å›¾ç‰‡\n    DOM.findAll('img[data-src]').forEach(img => {\n      observer.observe(img);\n    });\n  }\n\n  /**\n   * åŠ è½½å•ä¸ªå›¾ç‰‡\n   */\n  async loadImage(img) {\n    const src = img.dataset.src;\n    if (!src || this.loadedImages.has(src)) {\n      return;\n    }\n\n    try {\n      // æ·»åŠ åŠ è½½çŠ¶æ€\n      img.classList.add('image-loading');\n\n      // è·å–ä¼˜åŒ–åçš„URL\n      const optimizedUrl = await this.getOptimizedImageUrl(src, {\n        width: img.dataset.width,\n        height: img.dataset.height\n      });\n\n      // åˆ›å»ºæ–°å›¾ç‰‡è¿›è¡Œé¢„åŠ è½½\n      const newImg = new Image();\n\n      newImg.onload = () => {\n        img.src = optimizedUrl;\n        img.classList.remove('image-loading');\n        img.classList.add('image-loaded');\n        this.loadedImages.add(src);\n\n        // æ·¡å…¥æ•ˆæœ\n        Animation.fadeIn(img, 300);\n      };\n\n      newImg.onerror = () => {\n        // å›é€€åˆ°åŸå§‹URL\n        if (optimizedUrl !== src) {\n          img.src = src;\n          img.classList.remove('image-loading');\n          img.classList.add('image-loaded');\n          this.loadedImages.add(src);\n        } else {\n          img.classList.remove('image-loading');\n          img.classList.add('image-error');\n          this.handleImageError(img);\n        }\n      };\n\n      newImg.src = optimizedUrl;\n\n    } catch (error) {\n      console.error('Failed to load image:', src, error);\n      img.classList.remove('image-loading');\n      img.classList.add('image-error');\n      this.handleImageError(img);\n    }\n  }\n\n  /**\n   * åŠ è½½æ‰€æœ‰å›¾ç‰‡ï¼ˆä¸æ”¯æŒIntersectionObserveræ—¶çš„å›é€€ï¼‰\n   */\n  async loadAllImages() {\n    const images = DOM.findAll('img[data-src]');\n\n    for (const img of images) {\n      await this.loadImage(img);\n    }\n  }\n\n  /**\n   * é¢„åŠ è½½å…³é”®å›¾ç‰‡\n   */\n  async preloadCriticalImages() {\n    const criticalImages = [\n      'img/google-official.svg',\n      'img/Bing.svg',\n      'img/baidu.svg'\n    ];\n\n    for (const src of criticalImages) {\n      try {\n        const optimizedUrl = await this.getOptimizedImageUrl(src);\n        const link = document.createElement('link');\n        link.rel = 'preload';\n        link.as = 'image';\n        link.href = optimizedUrl;\n        document.head.appendChild(link);\n      } catch (error) {\n        console.warn('Failed to preload critical image:', src);\n      }\n    }\n  }\n\n  /**\n   * å¤„ç†å›¾ç‰‡é”™è¯¯\n   */\n  handleImageError(img) {\n    // è®¾ç½®é»˜è®¤å›¾æ ‡\n    if (!img.classList.contains('fallback-applied')) {\n      img.src = 'img/png/favicon.svg';\n      img.classList.add('fallback-applied');\n      img.alt = 'å›¾æ ‡åŠ è½½å¤±è´¥';\n    }\n  }\n\n  /**\n   * è®¾ç½®å›¾ç‰‡é”™è¯¯å¤„ç†\n   */\n  setupImageErrorHandling() {\n    DOM.on(document, 'error', (e) => {\n      if (e.target.tagName === 'IMG') {\n        this.handleImageError(e.target);\n      }\n    }, true);\n  }\n\n  /**\n   * åˆ›å»ºå“åº”å¼å›¾ç‰‡å…ƒç´ \n   */\n  createResponsiveImage(src, alt, options = {}) {\n    const {\n      sizes = '100vw',\n      breakpoints = [480, 768, 1024],\n      lazy = true\n    } = options;\n\n    const picture = DOM.create('picture');\n\n    // ä¸ºä¸åŒæ–­ç‚¹åˆ›å»ºæº\n    if (breakpoints.length > 0) {\n      for (let i = 0; i < breakpoints.length; i++) {\n        const breakpoint = breakpoints[i];\n        const width = breakpoint;\n\n        const source = DOM.create('source', {\n          'media': `(min-width: ${breakpoint}px)`,\n          'sizes': sizes,\n          'type': 'image/webp',\n          'data-srcset': `${src}?w=${width}&format=webp ${width}w`\n        });\n\n        picture.appendChild(source);\n      }\n    }\n\n    // é»˜è®¤imgå…ƒç´ \n    const img = DOM.create('img', {\n      'data-src': lazy ? src : src,\n      'alt': alt,\n      'loading': lazy ? 'lazy' : 'eager',\n      'decoding': 'async'\n    });\n\n    if (lazy) {\n      img.classList.add('lazy-image');\n    }\n\n    picture.appendChild(img);\n    return picture;\n  }\n\n  /**\n   * æ‰¹é‡ä¼˜åŒ–åº”ç”¨å›¾æ ‡\n   */\n  async optimizeAppIcons() {\n    const appImages = DOM.findAll('.app-item img');\n\n    for (const img of appImages) {\n      if (img.src && !img.dataset.processed) {\n        try {\n          const optimizedUrl = await this.getOptimizedImageUrl(img.src, {\n            width: 64,\n            height: 64,\n            quality: 75\n          });\n\n          if (optimizedUrl !== img.src) {\n            // åˆ›å»ºæ–°å›¾ç‰‡è¿›è¡Œæµ‹è¯•\n            const testImg = new Image();\n            testImg.onload = () => {\n              img.src = optimizedUrl;\n              img.dataset.processed = 'true';\n            };\n            testImg.src = optimizedUrl;\n          } else {\n            img.dataset.processed = 'true';\n          }\n        } catch (error) {\n          console.warn('Failed to optimize app icon:', img.src);\n          img.dataset.processed = 'true';\n        }\n      }\n    }\n  }\n\n  /**\n   * å›¾ç‰‡ç¼“å­˜ç®¡ç†\n   */\n  clearImageCache() {\n    this.loadedImages.clear();\n\n    // æ¸…é™¤Service Workerç¼“å­˜ï¼ˆå¦‚æœæœ‰ï¼‰\n    if ('caches' in window) {\n      caches.keys().then(cacheNames => {\n        return Promise.all(\n          cacheNames.filter(name => name.includes('image')).map(name => caches.delete(name))\n        );\n      });\n    }\n  }\n\n  /**\n   * è·å–å›¾ç‰‡ç»Ÿè®¡ä¿¡æ¯\n   */\n  getImageStats() {\n    const totalImages = DOM.findAll('img').length;\n    const loadedImages = DOM.findAll('img.image-loaded').length;\n    const errorImages = DOM.findAll('img.image-error').length;\n    const loadingImages = DOM.findAll('img.image-loading').length;\n\n    return {\n      total: totalImages,\n      loaded: loadedImages,\n      error: errorImages,\n      loading: loadingImages,\n      successRate: totalImages > 0 ? ((loadedImages / totalImages) * 100).toFixed(1) : 0\n    };\n  }\n}\n\n// åˆ›å»ºå…¨å±€å®ä¾‹\nwindow.ImageOptimizer = new ImageOptimizer();\n\n"],
  "mappings": "siBAQA,SAAS,WAAWA,EAAQ,CAC1B,OAAI,OAAOA,GAAW,SACb,GAEFA,EACJ,QAAQ,KAAM,OAAO,EACrB,QAAQ,KAAM,MAAM,EACpB,QAAQ,KAAM,MAAM,EACpB,QAAQ,KAAM,QAAQ,EACtB,QAAQ,KAAM,QAAQ,EACtB,QAAQ,MAAO,QAAQ,CAC5B,CAKA,SAAS,UAAUC,EAAK,CAMtB,GALI,OAAOA,GAAQ,UAKf,CAACA,GAAOA,EAAI,KAAK,IAAM,GACzB,MAAO,IAGT,GAAI,CAEF,OAAIA,EAAI,WAAW,GAAG,EACbA,EAIM,IAAI,IAAIA,CAAG,EACZ,SAAS,CACzB,OAAS,EAAG,CAEV,MAAO,GACT,CACF,CAKA,SAAS,SAASC,EAAMC,EAAMC,EAAY,GAAO,CAC/C,IAAIC,EACJ,OAAO,YAA6BC,EAAM,CACxC,MAAMC,EAAQ,IAAM,CAClBF,EAAU,KACLD,GAAWF,EAAK,GAAGI,CAAI,CAC9B,EACME,EAAUJ,GAAa,CAACC,EAC9B,aAAaA,CAAO,EACpBA,EAAU,WAAWE,EAAOJ,CAAI,EAC5BK,GAASN,EAAK,GAAGI,CAAI,CAC3B,CACF,CAKA,SAAS,SAASJ,EAAMO,EAAO,CAC7B,IAAIC,EACJ,OAAO,UAAW,CAChB,MAAMJ,EAAO,UACPK,EAAU,KACXD,IACHR,EAAK,MAAMS,EAASL,CAAI,EACxBI,EAAa,GACb,WAAW,IAAMA,EAAa,GAAOD,CAAK,EAE9C,CACF,CAKA,SAAS,UAAUG,EAAK,CACtB,GAAIA,IAAQ,MAAQ,OAAOA,GAAQ,SACjC,OAAOA,EAGT,GAAIA,aAAe,KACjB,OAAO,IAAI,KAAKA,EAAI,QAAQ,CAAC,EAG/B,GAAIA,aAAe,MACjB,OAAOA,EAAI,IAAIC,GAAQ,UAAUA,CAAI,CAAC,EAGxC,GAAI,OAAOD,GAAQ,SAAU,CAC3B,MAAME,EAAY,CAAC,EACnB,UAAWC,KAAOH,EACZA,EAAI,eAAeG,CAAG,IACxBD,EAAUC,CAAG,EAAI,UAAUH,EAAIG,CAAG,CAAC,GAGvC,OAAOD,CACT,CACF,CAKA,SAAS,YAAa,CACpB,OAAO,KAAK,IAAI,EAAE,SAAS,EAAE,EAAI,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,OAAO,CAAC,CACtE,CAKA,SAAS,eAAeE,EAAO,CAC7B,GAAIA,IAAU,EAAG,MAAO,UAExB,MAAMC,EAAI,KACJC,EAAQ,CAAC,QAAS,KAAM,KAAM,IAAI,EAClCC,EAAI,KAAK,MAAM,KAAK,IAAIH,CAAK,EAAI,KAAK,IAAIC,CAAC,CAAC,EAElD,OAAO,YAAYD,EAAQ,KAAK,IAAIC,EAAGE,CAAC,GAAG,QAAQ,CAAC,CAAC,EAAI,IAAMD,EAAMC,CAAC,CACxE,CAKA,SAAS,eAAgB,CACvB,MAAMC,EAAQ,OAAO,WACrB,OAAIA,EAAQ,IAAY,SACpBA,EAAQ,KAAa,SAClB,SACT,CAKA,MAAM,QAAU,CACd,IAAIL,EAAKM,EAAe,KAAM,CAC5B,GAAI,CACF,MAAMC,EAAQ,aAAa,QAAQP,CAAG,EACtC,OAAOO,EAAQ,KAAK,MAAMA,CAAK,EAAID,CACrC,OAASE,EAAG,CACV,eAAQ,MAAM,qBAAsBA,CAAC,EAC9BF,CACT,CACF,EAEA,IAAIN,EAAKO,EAAO,CACd,GAAI,CACF,oBAAa,QAAQP,EAAK,KAAK,UAAUO,CAAK,CAAC,EACxC,EACT,OAASC,EAAG,CACV,eAAQ,MAAM,qBAAsBA,CAAC,EAC9B,EACT,CACF,EAEA,OAAOR,EAAK,CACV,GAAI,CACF,oBAAa,WAAWA,CAAG,EACpB,EACT,OAAS,EAAG,CACV,eAAQ,MAAM,wBAAyB,CAAC,EACjC,EACT,CACF,EAEA,OAAQ,CACN,GAAI,CACF,oBAAa,MAAM,EACZ,EACT,OAASQ,EAAG,CACV,eAAQ,MAAM,uBAAwBA,CAAC,EAChC,EACT,CACF,CACF,EAKM,IAAM,CAEV,OAAOC,EAAKC,EAAa,CAAC,EAAGC,EAAW,CAAC,EAAG,CAC1C,MAAMC,EAAU,SAAS,cAAcH,CAAG,EAE1C,cAAO,QAAQC,CAAU,EAAE,QAAQ,CAAC,CAACV,EAAKO,CAAK,IAAM,CAC/CP,IAAQ,YACVY,EAAQ,UAAYL,EACXP,IAAQ,YACjBY,EAAQ,UAAYL,EACXP,IAAQ,cACjBY,EAAQ,YAAcL,EACbP,EAAI,WAAW,OAAO,GAAKA,EAAI,WAAW,OAAO,EAC1DY,EAAQ,aAAaZ,EAAKO,CAAK,EACtBP,IAAQ,SAAW,OAAOO,GAAU,SAC7C,OAAO,OAAOK,EAAQ,MAAOL,CAAK,EACzBP,KAAOY,GAAW,OAAOA,EAAQZ,CAAG,GAAM,WACnDY,EAAQZ,CAAG,EAAIO,EAEfK,EAAQ,aAAaZ,EAAKO,CAAK,CAEnC,CAAC,EAEDI,EAAS,QAAQE,GAAS,CACpBA,GAAU,OAGV,OAAOA,GAAU,SACnBD,EAAQ,YAAY,SAAS,eAAeC,CAAK,CAAC,EACzCA,aAAiB,KAC1BD,EAAQ,YAAYC,CAAK,EAChB,MAAM,QAAQA,CAAK,GAC5BA,EAAM,QAAQC,GAAc,CACtB,OAAOA,GAAe,SACxBF,EAAQ,YAAY,SAAS,eAAeE,CAAU,CAAC,EAC9CA,aAAsB,MAC/BF,EAAQ,YAAYE,CAAU,CAElC,CAAC,EAEL,CAAC,EAEMF,CACT,EAGA,KAAKG,EAAUnB,EAAU,SAAU,CACjC,OAAOA,EAAQ,cAAcmB,CAAQ,CACvC,EAEA,QAAQA,EAAUnB,EAAU,SAAU,CACpC,OAAO,MAAM,KAAKA,EAAQ,iBAAiBmB,CAAQ,CAAC,CACtD,EAGA,GAAGH,EAASI,EAAOC,EAASC,EAAU,CAAC,EAAG,CACxC,OAAAN,EAAQ,iBAAiBI,EAAOC,EAASC,CAAO,EACzC,IAAMN,EAAQ,oBAAoBI,EAAOC,EAASC,CAAO,CAClE,EAGA,OAAON,EAAS,CACVA,GAAWA,EAAQ,YACrBA,EAAQ,WAAW,YAAYA,CAAO,CAE1C,EAGA,KAAKA,EAAS,CACZA,EAAQ,MAAM,QAAU,EAC1B,EAEA,KAAKA,EAAS,CACZA,EAAQ,MAAM,QAAU,MAC1B,EAGA,OAAOA,EAAS,CACdA,EAAQ,MAAM,QAAUA,EAAQ,MAAM,UAAY,OAAS,GAAK,MAClE,CACF,EAKM,UAAY,CAEhB,OAAOA,EAASO,EAAW,IAAK,CAC9BP,EAAQ,MAAM,QAAU,EACxBA,EAAQ,MAAM,QAAU,GAExB,IAAIQ,EAAQ,KACZ,SAASC,EAAQC,EAAW,CACrBF,IAAOA,EAAQE,GACpB,MAAMC,EAAWD,EAAYF,EACvBI,EAAU,KAAK,IAAID,EAAWJ,EAAU,CAAC,EAE/CP,EAAQ,MAAM,QAAUY,EAEpBD,EAAWJ,GACb,sBAAsBE,CAAO,CAEjC,CAEA,sBAAsBA,CAAO,CAC/B,EAGA,QAAQT,EAASO,EAAW,IAAKM,EAAU,CACzC,IAAIL,EAAQ,KACZ,MAAMM,EAAiB,WAAW,OAAO,iBAAiBd,CAAO,EAAE,OAAO,EAE1E,SAASS,EAAQC,EAAW,CACrBF,IAAOA,EAAQE,GACpB,MAAMC,EAAWD,EAAYF,EACvBI,EAAU,KAAK,IAAIE,GAAkB,EAAIH,EAAWJ,GAAW,CAAC,EAEtEP,EAAQ,MAAM,QAAUY,EAEpBD,EAAWJ,EACb,sBAAsBE,CAAO,GAE7BT,EAAQ,MAAM,QAAU,OACpBa,GAAUA,EAAS,EAE3B,CAEA,sBAAsBJ,CAAO,CAC/B,CACF,EAGA,OAAO,QAAU,CACf,WACA,UACA,SACA,SACA,UACA,WACA,eACA,cACA,QACA,IACA,SACF,EAOA,MAAM,mBAAoB,CACxB,aAAc,CACZ,KAAK,UAAY,KACjB,KAAK,cAAgB,CAAC,EACtB,KAAK,iBAAmB,EACxB,KAAK,gBAAkB,IACvB,KAAK,oBAAsB,IAAI,IAC/B,KAAK,KAAK,CACZ,CAEA,MAAO,CAEL,KAAK,UAAY,SAAS,cAAc,KAAK,EAC7C,KAAK,UAAU,UAAY,yBAC3B,KAAK,UAAU,MAAM,QAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAO/B,SAAS,KAAK,YAAY,KAAK,SAAS,CAC1C,CAEA,KAAKM,EAASC,EAAO,OAAQT,EAAW,KAAK,gBAAiB,CAC5D,GAAI,CAEF,GAAI,CAACQ,GAAW,OAAOA,GAAY,SACjC,eAAQ,KAAK,wCAAwC,EAC9C,KAIT,MAAME,EAAK,GAAGD,CAAI,IAAID,CAAO,IAAI,KAAK,IAAI,CAAC,GAC3C,GAAI,KAAK,oBAAoB,IAAIE,CAAE,EACjC,eAAQ,IAAI,gDAAiDF,CAAO,EAC7D,KAGT,MAAMG,EAAe,KAAK,mBAAmBD,EAAIF,EAASC,CAAI,EAG9D,YAAK,UAAU,YAAYE,CAAY,EACvC,KAAK,cAAc,KAAK,CAAE,GAAAD,EAAI,QAASC,EAAc,KAAAF,CAAK,CAAC,EAC3D,KAAK,oBAAoB,IAAIC,CAAE,EAG/B,KAAK,mBAAmB,EAGxB,sBAAsB,IAAM,CAC1BC,EAAa,UAAU,IAAI,mBAAmB,CAChD,CAAC,EAGGX,EAAW,GACb,WAAW,IAAM,CACf,KAAK,KAAKU,CAAE,CACd,EAAGV,CAAQ,EAGNU,CACT,OAASE,EAAO,CACd,eAAQ,MAAM,2BAA4BA,CAAK,EACxC,IACT,CACF,CAEA,KAAKF,EAAI,CACP,GAAI,CACF,MAAMG,EAAoB,KAAK,cAAc,UAAUC,GAAKA,EAAE,KAAOJ,CAAE,EACvE,GAAIG,IAAsB,GAAI,OAE9B,KAAM,CAAE,QAAApB,CAAQ,EAAI,KAAK,cAAcoB,CAAiB,EAGxD,KAAK,oBAAoB,OAAOH,CAAE,EAElCjB,EAAQ,UAAU,IAAI,mBAAmB,EAEzC,WAAW,IAAM,CACf,GAAI,CACEA,GAAWA,EAAQ,YACrBA,EAAQ,WAAW,YAAYA,CAAO,EAExC,KAAK,cAAc,OAAOoB,EAAmB,CAAC,CAChD,OAASD,EAAO,CACd,QAAQ,KAAK,uCAAwCA,CAAK,CAC5D,CACF,EAAG,GAAG,CACR,OAASA,EAAO,CACd,QAAQ,MAAM,2BAA4BA,CAAK,CACjD,CACF,CAEA,mBAAmBF,EAAIF,EAASC,EAAM,CACpC,MAAME,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,UAAY,6BAA6BF,CAAI,GAC1DE,EAAa,QAAQ,GAAKD,EAG1B,MAAMK,EAAQ,CACZ,QAAS,IACT,MAAO,IACP,QAAS,IACT,KAAM,GACR,EAEA,OAAAJ,EAAa,UAAY;AAAA,uCACUI,EAAMN,CAAI,GAAKM,EAAM,IAAI;AAAA,0CACtBP,CAAO;AAAA,iFACgCE,CAAE;AAAA,MAI/E,KAAK,UAAU,EAERC,CACT,CAEA,WAAY,CAEV,GAAI,SAAS,eAAe,qBAAqB,EAC/C,OAGF,MAAMK,EAAS,SAAS,cAAc,OAAO,EAC7CA,EAAO,GAAK,sBACZA,EAAO,YAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAiIrB,SAAS,KAAK,YAAYA,CAAM,CAClC,CAEA,oBAAqB,CACnB,GAAI,KAAK,cAAc,OAAS,KAAK,iBAAkB,CACrD,MAAMC,EAAqB,KAAK,cAAc,MAAM,EACpD,KAAK,KAAKA,EAAmB,EAAE,CACjC,CACF,CAGA,OAAQ,CACN,KAAK,cAAc,QAAQ,CAAC,CAAE,GAAAP,CAAG,IAAM,CACrC,KAAK,KAAKA,CAAE,CACd,CAAC,CACH,CAGA,QAAQF,EAASR,EAAU,CACzB,OAAO,KAAK,KAAKQ,EAAS,UAAWR,CAAQ,CAC/C,CAGA,MAAMQ,EAASR,EAAU,CACvB,OAAO,KAAK,KAAKQ,EAAS,QAASR,CAAQ,CAC7C,CAGA,QAAQQ,EAASR,EAAU,CACzB,OAAO,KAAK,KAAKQ,EAAS,UAAWR,CAAQ,CAC/C,CAGA,KAAKQ,EAASR,EAAU,CACtB,OAAO,KAAK,KAAKQ,EAAS,OAAQR,CAAQ,CAC5C,CACF,CAGA,IAAI,WAAa,GAGjB,MAAM,qBAAuB,IAAI,oBAGjC,OAAO,kBAAoB,qBAG3B,OAAO,kBAAkB,YAAc,CAACQ,EAASR,IAAa,CAC5D,GAAI,WAAY,OAAO,KACvB,GAAI,CACF,OAAO,qBAAqB,QAAQQ,EAASR,CAAQ,CACvD,OAASY,EAAO,CACd,eAAQ,MAAM,uCAAwCA,CAAK,EACpD,IACT,CACF,EAEA,OAAO,kBAAkB,UAAY,CAACJ,EAASR,IAAa,CAC1D,GAAI,WAAY,OAAO,KACvB,GAAI,CACF,OAAO,qBAAqB,MAAMQ,EAASR,CAAQ,CACrD,OAASY,EAAO,CACd,eAAQ,MAAM,qCAAsCA,CAAK,EAClD,IACT,CACF,EAEA,OAAO,kBAAkB,YAAc,CAACJ,EAASR,IAAa,CAC5D,GAAI,WAAY,OAAO,KACvB,GAAI,CACF,OAAO,qBAAqB,QAAQQ,EAASR,CAAQ,CACvD,OAASY,EAAO,CACd,eAAQ,MAAM,uCAAwCA,CAAK,EACpD,IACT,CACF,EAEA,OAAO,kBAAkB,SAAW,CAACJ,EAASR,IAAa,CACzD,GAAI,WAAY,OAAO,KACvB,GAAI,CACF,OAAO,qBAAqB,KAAKQ,EAASR,CAAQ,CACpD,OAASY,EAAO,CACd,eAAQ,MAAM,oCAAqCA,CAAK,EACjD,IACT,CACF,EAGA,OAAO,kBAAkB,WAAcF,GAAO,CAC5C,GAAI,CACF,OAAO,qBAAqB,KAAKA,CAAE,CACrC,OAASE,EAAO,CACd,eAAQ,MAAM,gCAAiCA,CAAK,EAC7C,IACT,CACF,EAEA,OAAO,kBAAkB,YAAc,IAAM,CAC3C,GAAI,CACF,OAAO,qBAAqB,MAAM,CACpC,OAASA,EAAO,CACd,eAAQ,MAAM,iCAAkCA,CAAK,EAC9C,IACT,CACF,EAGA,OAAO,kBAAkB,cAAiBM,GAAW,CACnD,WAAaA,CACf,EAEA,OAAO,kBAAkB,aAAe,IAC/B,WAST,MAAM,YAAa,CACjB,aAAc,CACZ,KAAK,QAAU,CAEb,QAAW,CAAE,OAAQ,GAAO,KAAM,sBAAuB,KAAM,CAAC,CAAE,EAClE,aAAgB,CAAE,OAAQ,GAAO,KAAM,2BAA4B,KAAM,CAAC,SAAS,CAAE,EACrF,iBAAkB,CAAE,OAAQ,GAAO,KAAM,6BAA8B,KAAM,CAAC,SAAS,CAAE,EACzF,kBAAmB,CAAE,OAAQ,GAAO,KAAM,8BAA+B,KAAM,CAAC,UAAW,cAAc,CAAE,EAG3G,iBAAkB,CAAE,OAAQ,GAAO,KAAM,+BAAgC,KAAM,CAAC,UAAW,cAAc,CAAE,EAC3G,eAAgB,CAAE,OAAQ,GAAO,KAAM,6BAA8B,KAAM,CAAC,UAAW,eAAgB,gBAAgB,CAAE,EACzH,gBAAiB,CAAE,OAAQ,GAAO,KAAM,8BAA+B,KAAM,CAAC,UAAW,eAAgB,iBAAkB,cAAc,CAAE,EAC3I,gBAAiB,CAAE,OAAQ,GAAO,KAAM,8BAA+B,KAAM,CAAC,UAAW,eAAgB,iBAAkB,iBAAiB,CAAE,CAChJ,EAEA,KAAK,YAAc,CACjB,QAAW,UACX,aAAgB,oBAChB,iBAAkB,uBAClB,kBAAmB,iBACnB,iBAAkB,gBAClB,eAAgB,cAChB,gBAAiB,YACjB,gBAAiB,cACnB,EAEA,KAAK,cAAgB,IAAI,IACzB,KAAK,aAAe,IAAI,IACxB,KAAK,KAAK,CACZ,CAEA,MAAO,CAEL,KAAK,mBAAmB,CAC1B,CAEA,oBAAqB,CACnB,OAAO,KAAK,KAAK,WAAW,EAAE,QAAQC,GAAa,CACjD,MAAMC,EAAa,KAAK,YAAYD,CAAS,EACzC,OAAO,OAAOC,CAAU,GAAM,cAChC,KAAK,QAAQD,CAAS,EAAE,OAAS,GACjC,KAAK,cAAc,IAAIA,CAAS,EAChC,QAAQ,IAAI,YAAYA,CAAS,KAAKC,CAAU,GAAG,EAEvD,CAAC,CACH,CAEM,WAAWD,EAAW,QAAAE,EAAA,sBAC1B,GAAI,KAAK,cAAc,IAAIF,CAAS,EAClC,MAAO,GAGT,GAAI,KAAK,aAAa,IAAIA,CAAS,EACjC,OAAO,MAAM,KAAK,aAAa,IAAIA,CAAS,EAI9C,GAAI,CADW,KAAK,QAAQA,CAAS,EAEnC,MAAM,IAAI,MAAM,SAASA,CAAS,EAAE,EAGtC,MAAMG,EAAc,KAAK,wBAAwBH,CAAS,EAC1D,KAAK,aAAa,IAAIA,EAAWG,CAAW,EAE5C,GAAI,CACF,MAAMC,EAAS,MAAMD,EACrB,eAAQ,IAAI,cAAcH,CAAS,EAAE,EAC9BI,CACT,OAASX,EAAO,CACd,cAAQ,MAAM,aAAaO,CAAS,GAAIP,CAAK,EACvCA,CACR,QAAE,CACA,KAAK,aAAa,OAAOO,CAAS,CACpC,CACF,GAEM,wBAAwBA,EAAW,QAAAE,EAAA,sBACvC,MAAMG,EAAS,KAAK,QAAQL,CAAS,EAGrC,UAAWM,KAAUD,EAAO,KAC1B,MAAM,KAAK,WAAWC,CAAM,EAK9B,OADA,KAAK,mBAAmB,EACpB,KAAK,cAAc,IAAIN,CAAS,EAC3B,GAIF,MAAM,KAAK,YAAYA,EAAWK,EAAO,IAAI,CACtD,GAEA,YAAYL,EAAWpD,EAAK,CAC1B,OAAO,IAAI,QAAQ,CAAC2D,EAASC,IAAW,CAEtC,GAAI,SAAS,cAAc,uBAAuBR,CAAS,IAAI,EAAG,CAChEQ,EAAO,IAAI,MAAM,MAAMR,CAAS,QAAQ,CAAC,EACzC,MACF,CAEA,MAAMS,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,IAAM7D,EACb6D,EAAO,MAAQ,GACfA,EAAO,QAAQ,OAAST,EAExBS,EAAO,OAAS,IAAM,CAEpB,WAAW,IAAM,CACf,MAAMR,EAAa,KAAK,YAAYD,CAAS,EACzC,OAAO,OAAOC,CAAU,GAAM,aAChC,KAAK,QAAQD,CAAS,EAAE,OAAS,GACjC,KAAK,cAAc,IAAIA,CAAS,EAChC,QAAQ,IAAI,aAAaA,CAAS,OAAOC,CAAU,EAAE,EACrDM,EAAQ,EAAI,GAEZC,EAAO,IAAI,MAAM,MAAMR,CAAS,eAAeC,CAAU,EAAE,CAAC,CAEhE,EAAG,GAAG,CACR,EAEAQ,EAAO,QAAU,IAAM,CACrBD,EAAO,IAAI,MAAM,MAAMR,CAAS,UAAUpD,CAAG,EAAE,CAAC,CAClD,EAEA,SAAS,KAAK,YAAY6D,CAAM,CAClC,CAAC,CACH,CAEM,gBAAiB,QAAAP,EAAA,sBACrB,QAAQ,IAAI,gBAAgB,EAE5B,GAAI,CACF,UAAWF,KAAa,OAAO,KAAK,KAAK,OAAO,EAC9C,MAAM,KAAK,WAAWA,CAAS,EAGjC,eAAQ,IAAI,cAAc,EACnB,EACT,OAASP,EAAO,CACd,cAAQ,MAAM,YAAaA,CAAK,EAC1BA,CACR,CACF,GAEM,eAAeiB,EAAY1D,EAAU,IAAO,QAAAkD,EAAA,sBAChD,MAAMS,EAAY,KAAK,IAAI,EAE3B,KAAO,KAAK,IAAI,EAAIA,EAAY3D,GAAS,CAIvC,GAHA,KAAK,mBAAmB,EAEN0D,EAAW,MAAMhD,GAAO,KAAK,cAAc,IAAIA,CAAG,CAAC,EAEnE,MAAO,GAGT,MAAM,IAAI,QAAQ6C,GAAW,WAAWA,EAAS,GAAG,CAAC,CACvD,CAEA,MAAMK,EAAUF,EAAW,OAAOhD,GAAO,CAAC,KAAK,cAAc,IAAIA,CAAG,CAAC,EACrE,MAAM,IAAI,MAAM,WAAWkD,EAAQ,KAAK,IAAI,CAAC,EAAE,CACjD,GAEA,kBAAmB,CACjB,YAAK,mBAAmB,EACjB,MAAM,KAAK,KAAK,aAAa,CACtC,CAEA,mBAAoB,CAClB,YAAK,mBAAmB,EACjB,OAAO,KAAK,KAAK,OAAO,EAAE,OAAOlD,GAAO,CAAC,KAAK,cAAc,IAAIA,CAAG,CAAC,CAC7E,CAEA,eAAgB,CACd,KAAK,mBAAmB,EACxB,MAAMmD,EAAO,CAAC,EAEd,cAAO,KAAK,KAAK,OAAO,EAAE,QAAQnD,GAAO,CACvC,MAAM2C,EAAS,KAAK,QAAQ3C,CAAG,EACzBuC,EAAa,KAAK,YAAYvC,CAAG,EAEvCmD,EAAKnD,CAAG,EAAI,CACV,OAAQ,KAAK,cAAc,IAAIA,CAAG,EAClC,gBAAiB,OAAO,OAAOuC,CAAU,GAAM,YAC/C,KAAMI,EAAO,KACb,KAAMA,EAAO,IACf,CACF,CAAC,EAEMQ,CACT,CACF,CAGA,OAAO,aAAe,IAAI,aAO1B,MAAM,aAAc,CAClB,aAAc,CACZ,KAAK,WAAa,kBAClB,KAAK,aAAe,KAAK,mBAAmB,EAC5C,KAAK,aAAe,IACtB,CAEA,oBAAqB,CACnB,GAAI,CACF,KAAM,CAAE,OAAAC,EAAQ,SAAAC,CAAS,EAAI,OAAO,UAAY,CAAC,EAGjD,OAAIA,GAAYA,EAAS,SAAS,YAAY,EACrC,sDAILD,GAAUA,EAAO,WAAW,MAAM,EAC7BA,EAAO,QAAQ,OAAQ,EAAE,EAAI,cAG/B,aACT,OAAS,EAAG,CACV,eAAQ,KAAK,+BAAgC,CAAC,EACvC,aACT,CACF,CAKM,oBAAoBE,EAAa,EAAG,QAAAd,EAAA,sBACxC,QAASpC,EAAI,EAAGA,EAAIkD,EAAYlD,IAC9B,GAAI,CACF,MAAMmD,EAAS,MAAM,KAAK,qBAAqB,EAC/C,GAAIA,GAAU,KAAK,eAAeA,CAAM,EACtC,YAAK,aAAeA,EACpB,aAAa,QAAQ,KAAK,WAAY,KAAK,UAAUA,CAAM,CAAC,EACrDA,CAEX,OAASxB,EAAO,CACd,QAAQ,KAAK,UAAU3B,EAAI,CAAC,OAAQ2B,CAAK,EACrC3B,IAAMkD,EAAa,GACrB,kBAAkB,YAAY,eAAe,EAE/C,MAAM,IAAI,QAAQT,GAAW,WAAWA,EAAS,KAAQzC,EAAI,EAAE,CAAC,CAClE,CAIF,OAAO,KAAK,gBAAgB,CAC9B,GAKM,sBAAuB,QAAAoC,EAAA,sBAC3B,GAAI,CACF,MAAMgB,EAAW,MAAM,MAAM,KAAK,aAAc,CAC9C,OAAQ,MACR,QAAS,CACP,OAAU,mBACV,gBAAiB,UACnB,CACF,CAAC,EAED,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,QAAQA,EAAS,MAAM,KAAKA,EAAS,UAAU,EAAE,EAGnE,MAAMC,EAAO,MAAMD,EAAS,KAAK,EAGjC,GAAIC,IAAS,KACX,eAAQ,KAAK,oBAAoB,EAC1B,KAGT,GAAI,CAAC,KAAK,eAAeA,CAAI,EAC3B,MAAM,IAAI,MAAM,cAAc,EAGhC,OAAO,KAAK,gBAAgBA,CAAI,CAClC,OAAS1B,EAAO,CACd,eAAQ,MAAM,cAAeA,CAAK,EAC3B,IACT,CACF,GAKA,iBAAkB,CAChB,GAAI,CACF,MAAM2B,EAAc,KAAK,MAAM,aAAa,QAAQ,KAAK,UAAU,CAAC,EAEpE,OAAIA,GAAe,KAAK,eAAeA,CAAW,GAChD,KAAK,aAAeA,EACbA,GAIF,KAAK,kBAAkB,CAChC,OAAS3B,EAAO,CACd,eAAQ,MAAM,YAAaA,CAAK,EACzB,KAAK,kBAAkB,CAChC,CACF,CAKM,mBAAoB,QAAAS,EAAA,sBACxB,GAAI,CAEF,MAAMmB,EAAgB,MADL,MAAM,MAAM,kBAAkB,GACV,KAAK,EACpCC,EAAmB,KAAK,gBAAgBD,CAAa,EAE3D,YAAK,aAAeC,EACpB,aAAa,QAAQ,KAAK,WAAY,KAAK,UAAUA,CAAgB,CAAC,EAE/DA,CACT,OAAS7B,EAAO,CACd,eAAQ,MAAM,YAAaA,CAAK,EAChC,kBAAkB,UAAU,gBAAgB,EACrC,IACT,CACF,GAKM,WAAWwB,EAAQ,QAAAf,EAAA,sBACvB,GAAI,CAAC,KAAK,eAAee,CAAM,EAC7B,MAAM,IAAI,MAAM,QAAQ,EAI1B,aAAa,QAAQ,KAAK,WAAY,KAAK,UAAUA,CAAM,CAAC,EAC5D,KAAK,aAAeA,EAGpB,GAAI,CACF,MAAM,KAAK,mBAAmBA,CAAM,EACpC,kBAAkB,YAAY,OAAO,CACvC,OAASxB,EAAO,CACd,QAAQ,KAAK,mBAAoBA,CAAK,EACtC,kBAAkB,YAAY,UAAU,CAC1C,CACF,GAKM,mBAAmBwB,EAAQ,QAAAf,EAAA,sBAC/B,MAAMgB,EAAW,MAAM,MAAM,KAAK,aAAc,CAC9C,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,UAAUD,CAAM,CAC7B,CAAC,EAED,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,SAASA,EAAS,MAAM,EAAE,CAE9C,GAKA,eAAeD,EAAQ,CACrB,OAAOA,GACA,OAAOA,GAAW,UAClB,MAAM,QAAQA,EAAO,YAAY,GACjCA,EAAO,aAAa,MAAMM,GACxB,OAAOA,EAAI,MAAS,UACpBA,EAAI,KAAK,KAAK,EAAE,OAAS,CAC3B,CACT,CAKA,gBAAgBN,EAAQ,CACtB,OAAKA,EAAO,aACVA,EAAO,WAAa,CAClB,KAAM,YACN,WAAY,UACZ,aAAc,UACd,WAAY,SACd,GAIFA,EAAO,aAAeA,EAAO,aAAa,IAAIM,GAAQC,EAAA,CACpD,KAAMD,EAAI,MAAQ,QAClB,aAAcA,EAAI,cAAgB,GAClC,aAAcA,EAAI,cAAgB,GAClC,KAAMA,EAAI,MAAQ,uBACfA,EACH,EAEKN,CACT,CAKA,kBAAmB,CACjB,OAAO,KAAK,cAAgB,KAAK,gBAAgB,CACnD,CAKA,eAAeM,EAAK,CAClB,MAAMN,EAAS,KAAK,iBAAiB,EACrC,OAAAA,EAAO,aAAa,KAAKM,CAAG,EACrB,KAAK,WAAWN,CAAM,CAC/B,CAKA,kBAAkBQ,EAAOF,EAAK,CAC5B,MAAMN,EAAS,KAAK,iBAAiB,EACrC,GAAIA,EAAO,aAAaQ,CAAK,EAC3B,OAAAR,EAAO,aAAaQ,CAAK,EAAID,IAAA,GAAKP,EAAO,aAAaQ,CAAK,GAAMF,GAC1D,KAAK,WAAWN,CAAM,EAE/B,MAAM,IAAI,MAAM,OAAO,CACzB,CAKA,kBAAkBQ,EAAO,CACvB,MAAMR,EAAS,KAAK,iBAAiB,EACrC,GAAIA,EAAO,aAAaQ,CAAK,EAC3B,OAAAR,EAAO,aAAa,OAAOQ,EAAO,CAAC,EAC5B,KAAK,WAAWR,CAAM,EAE/B,MAAM,IAAI,MAAM,OAAO,CACzB,CAKA,oBAAoBS,EAAWC,EAAS,CACtC,MAAMV,EAAS,KAAK,iBAAiB,EAC/B,CAACW,CAAQ,EAAIX,EAAO,aAAa,OAAOS,EAAW,CAAC,EAC1D,OAAAT,EAAO,aAAa,OAAOU,EAAS,EAAGC,CAAQ,EACxC,KAAK,WAAWX,CAAM,CAC/B,CAKA,iBAAiBY,EAAY,CAC3B,MAAMZ,EAAS,KAAK,iBAAiB,EACrC,OAAAA,EAAO,WAAaO,IAAA,GAAKP,EAAO,YAAeY,GACxC,KAAK,WAAWZ,CAAM,CAC/B,CACF,CAGA,OAAO,cAAgB,IAAI,cAQ3B,MAAM,WAAY,CAChB,aAAc,CACZ,KAAK,cAAgB,GACrB,KAAK,kBAAoB,EACzB,KAAK,kBAAoB,EACzB,KAAK,SAAW,GAChB,KAAK,cAAgB,OAAO,cAC5B,KAAK,KAAK,CACZ,CAEA,MAAO,CAED,SAAS,aAAe,UAC1B,SAAS,iBAAiB,mBAAoB,IAAM,KAAK,oBAAoB,CAAC,EAE9E,KAAK,oBAAoB,CAE7B,CAEA,qBAAsB,CAEpB,MAAMa,EAAgB,IAAI,KAAK,kBAAkB,EAC7CA,GACF,IAAI,GAAGA,EAAe,QAAU5D,GAAM,CACpCA,EAAE,gBAAgB,EAClB,KAAK,eAAe,CACtB,CAAC,EAIH,KAAK,oBAAoB,EAGzB,IAAI,GAAG,SAAU,QAAUA,GAAM,CAC3B,KAAK,UACL,CAACA,EAAE,OAAO,QAAQ,WAAW,GAC7B,CAACA,EAAE,OAAO,QAAQ,aAAa,GAC/B,CAACA,EAAE,OAAO,QAAQ,kBAAkB,GACtC,KAAK,aAAa,CAEtB,CAAC,EAGD,IAAI,GAAG,SAAU,UAAYA,GAAM,CAC7BA,EAAE,SAAWA,EAAE,MAAQ,MACzBA,EAAE,eAAe,EACjB,KAAK,eAAe,EAExB,CAAC,CACH,CAKA,oBAAqB,CACnB,MAAM6D,EAAW,IAAI,KAAK,gBAAgB,EACpCC,EAAU,IAAI,KAAK,oBAAoB,EAE7C,GAAI,CAACD,EAAU,CACb,QAAQ,KAAK,uCAAuC,EACpD,MACF,CAEAA,EAAS,UAAY,GAErB,IAAId,EAAS,KAAK,cAAc,iBAAiB,EACjD,GAAI,CAACA,GAAU,OAAOA,EAAO,MAAS,YAAc,CAAC,MAAM,QAAQA,EAAO,YAAY,EAAG,CACvF,QAAQ,KAAK,+CAA+C,EAC5D,KAAK,cAAc,oBAAoB,EAAE,KAAK,IAAM,CAClD,KAAK,mBAAmB,EACxB,KAAK,mBAAmB,CAC1B,CAAC,EAAE,MAAOxB,GAAU,CAClB,QAAQ,MAAM,6BAA8BA,CAAK,CACnD,CAAC,EACD,MACF,CAGA,MAAMwC,EAAgBhB,EAAO,aAC1B,IAAI,CAACM,EAAKE,KAAW,CAAE,IAAAF,EAAK,MAAAE,CAAM,EAAE,EACpC,OAAOjE,GAAQA,EAAK,IAAI,cAAgBA,EAAK,IAAI,aAAa,KAAK,GAAKA,EAAK,IAAI,eAAiB,GAAG,EAMxG,GAHA,KAAK,WAAWuE,EAAUE,EAAe,WAAY,KAAK,iBAAiB,EAGvED,EAAS,CACX,MAAME,EAAQD,EAAc,OAC5BD,EAAQ,UAAU,OAAO,oBAAqBE,GAAS,KAAK,aAAa,CAC3E,CACF,CAKA,oBAAqB,CACnB,MAAMH,EAAW,IAAI,KAAK,gBAAgB,EACpCC,EAAU,IAAI,KAAK,oBAAoB,EAE7C,GAAI,CAACD,EAAU,CACb,QAAQ,KAAK,uCAAuC,EACpD,MACF,CAEAA,EAAS,UAAY,GAErB,IAAId,EAAS,KAAK,cAAc,iBAAiB,EACjD,GAAI,CAACA,GAAU,OAAOA,EAAO,MAAS,YAAc,CAAC,MAAM,QAAQA,EAAO,YAAY,EAAG,CACvF,QAAQ,KAAK,iEAAiE,EAC9E,KAAK,cAAc,oBAAoB,EAAE,KAAK,IAAM,CAClD,KAAK,mBAAmB,CAC1B,CAAC,EAAE,MAAOxB,GAAU,CAClB,QAAQ,MAAM,+CAAgDA,CAAK,CACrE,CAAC,EACD,MACF,CAGA,MAAMwC,EAAgBhB,EAAO,aAC1B,IAAI,CAACM,EAAKE,KAAW,CAAE,IAAAF,EAAK,MAAAE,CAAM,EAAE,EACpC,OAAOjE,GAAQA,EAAK,IAAI,cAAgBA,EAAK,IAAI,aAAa,KAAK,GAAKA,EAAK,IAAI,eAAiB,GAAG,EAMxG,GAHA,KAAK,WAAWuE,EAAUE,EAAe,WAAY,KAAK,iBAAiB,EAGvED,EAAS,CACX,MAAME,EAAQD,EAAc,OAC5BD,EAAQ,UAAU,OAAO,oBAAqBE,GAAS,KAAK,aAAa,CAC3E,CACF,CAKA,WAAWC,EAAWF,EAAe3C,EAAM8C,EAAW,CACpD,MAAMF,EAAQD,EAAc,OACtBI,EAAU,KAAK,IAAI,EAAG,KAAK,KAAKH,EAAQ,KAAK,aAAa,EAAI,CAAC,EAGjEE,EAAYC,IACdD,EAAY,EACR9C,IAAS,WACX,KAAK,kBAAoB,EAEzB,KAAK,kBAAoB,GAI7B,MAAMR,EAAQsD,EAAY,KAAK,cACbH,EAAc,MAAMnD,EAAOA,EAAQ,KAAK,aAAa,EAG7D,QAAQ,CAAC,CAAE,IAAAyC,EAAK,MAAAE,CAAM,IAAM,CACpC,MAAMa,EAAK,KAAK,cAAcf,EAAKE,EAAOnC,CAAI,EAC9C6C,EAAU,YAAYG,CAAE,CAC1B,CAAC,EAGD,MAAMC,EAAQ,KAAK,iBAAiBjD,CAAI,EACxC6C,EAAU,YAAYI,CAAK,EAG3B,KAAK,kBAAkBJ,EAAW7C,CAAI,CACxC,CAKA,cAAciC,EAAKE,EAAOnC,EAAM,CAC9B,MAAMgD,EAAK,IAAI,OAAO,KAAM,CAC1B,UAAW,gBACX,UAAW,GACX,iBAAkBb,EAClB,gBAAiBnC,CACnB,CAAC,EAEK1C,EAAM0C,IAAS,WAAaiC,EAAI,aAAeA,EAAI,aACnDiB,EAAUjB,EAAI,MAAQA,EAAI,KAAK,KAAK,EAAIA,EAAI,KAAO,sBACnDkB,EAAS7F,GAAOA,EAAI,WAAW,GAAG,EAAI,QAAU,SAEhD8F,EAAiB,IAAI,OAAO,MAAO,CACvC,UAAW,WACX,iBAAkBjB,CACpB,EAAG,CACD,IAAI,OAAO,IAAK,CACd,WAAY,QAAQ,UAAU7E,CAAG,EACjC,cAAe6F,EACf,KAAM,SACN,SAAU,GACZ,EAAG,CACD,IAAI,OAAO,MAAO,CAChB,UAAW,QACX,IAAKD,EACL,IAAK,QAAQ,WAAWjB,EAAI,IAAI,EAChC,QAAS,kDACX,CAAC,EACD,IAAI,OAAO,SAAU,CAAC,EAAG,CAAC,QAAQ,WAAWA,EAAI,IAAI,CAAC,CAAC,CACzD,CAAC,EACD,KAAK,kBAAkBE,CAAK,CAC9B,CAAC,EAGKkB,EAAOD,EAAe,cAAc,GAAG,EAC7C,OAAIC,GACF,IAAI,GAAGA,EAAM,QAAUzE,GAAM,CAC3BA,EAAE,eAAe,EACjB,MAAMtB,EAAM+F,EAAK,aAAa,UAAU,EAClCF,EAASE,EAAK,aAAa,aAAa,GAAK,SAC/C/F,GAAOA,IAAQ,KAAOA,EAAI,KAAK,IAAM,KACnC6F,IAAW,SACb,OAAO,KAAK7F,EAAK,SAAU,qBAAqB,EAEhD,OAAO,SAAS,KAAOA,EAG7B,CAAC,EAIH,IAAI,GAAG8F,EAAgB,cAAgBxE,GAAM,CAC3CA,EAAE,eAAe,EACjB,KAAK,cAAc,CACrB,CAAC,EAEDoE,EAAG,YAAYI,CAAc,EACtBJ,CACT,CAKA,kBAAkBb,EAAO,CAEvB,MAAMmB,EAAc,SAAS,gBAAgB,6BAA8B,KAAK,EAChFA,EAAY,aAAa,QAAS,eAAe,EACjDA,EAAY,aAAa,QAAS,4BAA4B,EAC9DA,EAAY,aAAa,QAAS,IAAI,EACtCA,EAAY,aAAa,SAAU,IAAI,EACvCA,EAAY,aAAa,UAAW,WAAW,EAC/CA,EAAY,aAAa,OAAQ,MAAM,EACvCA,EAAY,aAAa,SAAU,cAAc,EACjDA,EAAY,aAAa,eAAgB,GAAG,EAC5CA,EAAY,aAAa,iBAAkB,OAAO,EAClDA,EAAY,aAAa,kBAAmB,OAAO,EACnDA,EAAY,UAAY,4IAExB,MAAMC,EAAU,IAAI,OAAO,SAAU,CACnC,UAAW,oBACX,MAAO,gBACT,EAAG,CAAC,CAAC,EACLA,EAAQ,YAAYD,CAAW,EAE/B,MAAME,EAAY,IAAI,OAAO,SAAU,CACrC,UAAW,sBACX,MAAO,gBACT,CAAC,EAGD,WAAI,GAAGD,EAAS,QAAU3E,GAAM,CAC9BA,EAAE,gBAAgB,EAClB,OAAO,UAAU,QAAQuD,CAAK,CAChC,CAAC,EAED,IAAI,GAAGqB,EAAW,QAAU5E,GAAM,CAChCA,EAAE,gBAAgB,EAClB,OAAO,UAAU,UAAUuD,CAAK,CAClC,CAAC,EAEM,CAACoB,EAASC,CAAS,CAC5B,CAKA,iBAAiBxD,EAAM,CACrB,MAAMgD,EAAK,IAAI,OAAO,KAAM,CAAE,UAAW,4BAA6B,CAAC,EAEjES,EAAU,IAAI,OAAO,MAAO,CAChC,UAAW,6BACb,EAAG,CACD,IAAI,OAAO,SAAU,CAAC,EAAG,CAAC,QAAQ,CAAC,CACrC,CAAC,EAED,WAAI,GAAGA,EAAS,QAAU7E,GAAM,CAC9BA,EAAE,eAAe,EACjBA,EAAE,gBAAgB,EACd,OAAO,WAAa,OAAO,OAAO,UAAU,YAAe,YAC7D,OAAO,UAAU,WAAWoB,CAAI,CAEpC,CAAC,EAEDgD,EAAG,YAAYS,CAAO,EACfT,CACT,CAKA,kBAAkBH,EAAW7C,EAAM,CACjC,IAAI0D,EAAiB,KACjBC,EAAe,KACfC,EAAqB,KAEzB,MAAMC,EAAiB,IAAM,CACvBH,GACFA,EAAe,UAAU,OAAO,UAAU,EAExCE,GACFA,EAAmB,UAAU,OAAO,WAAW,EAEjDF,EAAiB,KACjBC,EAAe,KACfC,EAAqB,IACvB,EAEA,IAAI,GAAGf,EAAW,YAAcjE,GAAM,CACpC,MAAMV,EAAOU,EAAE,OAAO,QAAQ,gBAAgB,EAC1C,CAACV,GAAQA,EAAK,UAAU,SAAS,cAAc,IAEnDwF,EAAiBxF,EACjByF,EAAe,SAASD,EAAe,QAAQ,QAAQ,EACvDA,EAAe,UAAU,IAAI,UAAU,EAEnC9E,EAAE,eACJA,EAAE,aAAa,cAAgB,OAC/BA,EAAE,aAAa,QAAQ,aAAc,EAAE,GAE3C,CAAC,EAED,IAAI,GAAGiE,EAAW,WAAajE,GAAM,CAEnC,GADAA,EAAE,eAAe,EACb,CAAC8E,EAAgB,OACjB9E,EAAE,eACJA,EAAE,aAAa,WAAa,QAG9B,MAAMuE,EAASvE,EAAE,OAAO,QAAQ,gBAAgB,EAChD,GAAI,CAACuE,GAAUA,IAAWO,GAAkBP,EAAO,UAAU,SAAS,cAAc,EAClF,OAGES,GAAsBA,IAAuBT,GAC/CS,EAAmB,UAAU,OAAO,WAAW,EAEjDT,EAAO,UAAU,IAAI,WAAW,EAChCS,EAAqBT,EAErB,MAAMW,EAAOX,EAAO,sBAAsB,EAC1BvE,EAAE,QAAUkF,EAAK,IACIA,EAAK,OAAS,EAGjDjB,EAAU,aAAaa,EAAgBP,CAAM,EAE7CN,EAAU,aAAaa,EAAgBP,EAAO,WAAW,CAE7D,CAAC,EAED,IAAI,GAAGN,EAAW,OAAejE,GAAMgC,EAAA,sBAErC,GADAhC,EAAE,eAAe,EACb8E,EAAgB,CAClBA,EAAe,UAAU,OAAO,UAAU,EACtCE,GACFA,EAAmB,UAAU,OAAO,WAAW,EAKjD,MAAMG,EADQ,MAAM,KAAKlB,EAAU,iBAAiB,mCAAmC,CAAC,EACjE,QAAQa,CAAc,EAE7C,GAAIK,IAAaJ,EACf,GAAI,CACF,MAAM,KAAK,cAAc,oBAAoBA,EAAcI,CAAQ,EACnE,kBAAkB,YAAY,SAAS,EAGnC/D,IAAS,WACX,KAAK,mBAAmB,EAExB,KAAK,mBAAmB,CAE5B,OAASG,EAAO,CACd,kBAAkB,UAAU,WAAaA,EAAM,OAAO,CACxD,CAEJ,CACF,EAAC,EAED,IAAI,GAAG0C,EAAW,UAAW,IAAM,CACjCgB,EAAe,CACjB,CAAC,EAED,IAAI,GAAGhB,EAAW,YAAcjE,GAAM,CACpC,MAAMV,EAAOU,EAAE,OAAO,QAAQ,gBAAgB,EAC1CV,GACFA,EAAK,UAAU,OAAO,WAAW,CAErC,CAAC,EAED,IAAI,GAAG,OAAQ,UAAW,IAAM,CAC1BwF,GACFG,EAAe,CAEnB,CAAC,CACH,CAKA,oBAAoBhB,EAAWmB,EAAG,CAGhC,MAF0B,CAAC,GAAGnB,EAAU,iBAAiB,kDAAkD,CAAC,EAEnF,OAAO,CAACoB,EAAShF,IAAU,CAClD,MAAMiF,EAAMjF,EAAM,sBAAsB,EAClCkF,EAASH,EAAIE,EAAI,IAAMA,EAAI,OAAS,EAE1C,OAAIC,EAAS,GAAKA,EAASF,EAAQ,OAC1B,CAAE,OAAQE,EAAQ,QAASlF,CAAM,EAEjCgF,CAEX,EAAG,CAAE,OAAQ,OAAO,iBAAkB,CAAC,EAAE,OAC3C,CAKA,qBAAsB,CACpB,MAAMG,EAAe,IAAI,KAAK,oBAAoB,EAC5CC,EAAe,IAAI,KAAK,oBAAoB,EAE9CD,GACF,IAAI,GAAGA,EAAc,QAAS,IAAM,CAClC,KAAK,SAAS,UAAU,CAC1B,CAAC,EAGCC,GACF,IAAI,GAAGA,EAAc,QAAS,IAAM,CAClC,KAAK,SAAS,UAAU,CAC1B,CAAC,CAEL,CAKA,SAASrE,EAAM,CACb,MAAM2B,EAAS,KAAK,cAAc,iBAAiB,EACnD,GAAI,CAACA,GAAU,CAAC,MAAM,QAAQA,EAAO,YAAY,EAAG,OAEpD,MAAM2C,EAAO3C,EAAO,aAAa,OAAOM,GACtCjC,IAAS,WAAaiC,EAAI,aAAeA,EAAI,YAC/C,EAEMc,EAAU,KAAK,IAAI,EAAG,KAAK,KAAKuB,EAAK,OAAS,KAAK,aAAa,EAAI,CAAC,EAEvEtE,IAAS,YACX,KAAK,kBAAoB,KAAK,mBAAqB+C,EAAU,EAAI,KAAK,kBAAoB,EAC1F,KAAK,mBAAmB,IAExB,KAAK,kBAAoB,KAAK,mBAAqBA,EAAU,EAAI,KAAK,kBAAoB,EAC1F,KAAK,mBAAmB,GAGtB,KAAK,UACP,KAAK,kBAAkB,CAE3B,CAKA,gBAAiB,CACX,KAAK,SACP,KAAK,aAAa,EAElB,KAAK,cAAc,CAEvB,CAKA,eAAgB,CACd,KAAK,SAAW,GAChB,SAAS,KAAK,UAAU,IAAI,WAAW,EAGvC,IAAI,QAAQ,aAAa,EAAE,QAAQwB,GAAO,CACxCA,EAAI,MAAM,QAAU,MACtB,CAAC,EAGD,IAAI,QAAQ,qBAAqB,EAAE,QAAQvF,GAAW,CACpDA,EAAQ,UAAU,OAAO,QAAS,YAAY,CAChD,CAAC,EAED,IAAI,QAAQ,eAAe,EAAE,QAAQwF,GAAO,CAC1CA,EAAI,UAAU,IAAI,YAAY,CAChC,CAAC,EAED,IAAI,QAAQ,WAAW,EAAE,QAAQD,GAAO,CACtCA,EAAI,UAAU,IAAI,YAAY,CAChC,CAAC,EAGD,MAAME,EAAY,IAAI,KAAK,kBAAkB,EACvCC,EAAW,IAAI,KAAK,YAAY,EAClCD,GAAaC,IACfD,EAAU,UAAU,IAAI,SAAS,EACjCA,EAAU,aAAa,eAAgB,MAAM,EAC7CC,EAAS,YAAc,MAIzB,KAAK,kBAAkB,CACzB,CAKA,cAAe,CACb,KAAK,SAAW,GAChB,SAAS,KAAK,UAAU,OAAO,WAAW,EAG1C,IAAI,QAAQ,WAAW,EAAE,QAAQH,GAAO,CACtCA,EAAI,MAAM,QAAU,MACtB,CAAC,EAGD,IAAI,QAAQ,aAAa,EAAE,QAAQvF,GAAW,CAC5CA,EAAQ,UAAU,OAAO,YAAY,CACvC,CAAC,EAED,IAAI,QAAQ,eAAe,EAAE,QAAQwF,GAAO,CAC1CA,EAAI,UAAU,IAAI,OAAO,CAC3B,CAAC,EAGD,MAAMC,EAAY,IAAI,KAAK,kBAAkB,EACvCC,EAAW,IAAI,KAAK,YAAY,EAClCD,GAAaC,IACfD,EAAU,UAAU,OAAO,SAAS,EACpCA,EAAU,aAAa,eAAgB,OAAO,EAC9CC,EAAS,YAAc,KAE3B,CAKA,mBAAoB,CAClB,IAAI,QAAQ,aAAa,EAAE,QAAQrB,GAAQ,CACzC,IAAI,GAAGA,EAAM,cAAgBzE,GAAM,CACjCA,EAAE,eAAe,EAEZ,KAAK,UACR,KAAK,cAAc,CAEvB,CAAC,CACH,CAAC,CACH,CAKA,SAAU,CACR,KAAK,kBAAoB,EACzB,KAAK,kBAAoB,EACzB,KAAK,mBAAmB,EACxB,KAAK,mBAAmB,EAEpB,KAAK,UACP,KAAK,kBAAkB,CAE3B,CACF,CAGA,OAAO,YAAc,IAAI,YAQzB,MAAM,YAAa,CACjB,aAAc,CACZ,KAAK,cAAgB,OAAO,cAC5B,KAAK,YAAc,OAAO,YAC1B,KAAK,KAAK,CACZ,CAEA,MAAO,CAED,SAAS,aAAe,UAC1B,SAAS,iBAAiB,mBAAoB,IAAM,KAAK,SAAS,CAAC,EAEnE,KAAK,SAAS,CAElB,CAEA,UAAW,CACT,GAAI,CACF,KAAK,iBAAiB,EACtB,KAAK,eAAe,EACpB,KAAK,mBAAmB,EACxB,KAAK,oBAAoB,EACzB,MAAM+F,EAAmB,IAAI,KAAK,mBAAmB,EACjDA,GACF,IAAI,GAAGA,EAAkB,QAAU/F,GAAM,CACvCA,EAAE,eAAe,EACjBA,EAAE,gBAAgB,EAClB,KAAK,iBAAiB,CACxB,CAAC,EAEH,QAAQ,IAAI,uBAAuB,CACrC,OAASuB,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CAC/C,CACF,CAKA,kBAAmB,CACjB,MAAMyE,EAAQ,IAAI,KAAK,YAAY,EACnC,GAAI,CAACA,EAAO,OAGZ,MAAMC,EAAW,IAAI,KAAK,mBAAmB,EACzCA,GACF,IAAI,GAAGA,EAAU,QAAS,IAAM,KAAK,cAAc,CAAC,EAItD,MAAMC,EAAY,IAAI,KAAK,aAAa,EACpCA,GACF,IAAI,GAAGA,EAAW,QAAS,IAAM,KAAK,cAAc,CAAC,EAIvD,MAAMC,EAAO,IAAI,KAAK,WAAW,EAC7BA,GACF,IAAI,GAAGA,EAAM,SAAWnG,GAAM,CAC5BA,EAAE,eAAe,EACjB,KAAK,cAAc,CACrB,CAAC,EAIH,IAAI,GAAGgG,EAAO,QAAUhG,GAAM,CACxBA,EAAE,SAAWgG,GACf,KAAK,cAAc,CAEvB,CAAC,EAGD,IAAI,GAAG,SAAU,UAAYhG,GAAM,CAC7BA,EAAE,MAAQ,UAAYgG,EAAM,MAAM,UAAY,QAChD,KAAK,cAAc,CAEvB,CAAC,CACH,CAKA,gBAAiB,CACf,MAAMI,EAAU,IAAI,KAAK,kBAAkB,EACrCC,EAAW,IAAI,KAAK,mBAAmB,EACvCC,EAAoB,IAAI,KAAK,MAAM,EACnCC,EAAoB,IAAI,KAAK,OAAO,EAE1C,GAAI,CAACH,GAAW,CAACC,GAAY,CAACC,GAAqB,CAACC,EAClD,OAIF,MAAMC,EAAY,QAAQ,QAAQ,IAAI,oBAAqB,UAAU,EACjEA,IAAc,YAChBJ,EAAQ,UAAU,OAAO,QAAQ,EACjCC,EAAS,UAAU,IAAI,QAAQ,EAE/BD,EAAQ,aAAa,eAAgB,OAAO,EAC5CC,EAAS,aAAa,eAAgB,MAAM,IAE5CD,EAAQ,UAAU,IAAI,QAAQ,EAC9BC,EAAS,UAAU,OAAO,QAAQ,EAElCD,EAAQ,aAAa,eAAgB,MAAM,EAC3CC,EAAS,aAAa,eAAgB,OAAO,GAG/C,KAAK,cAAcG,IAAc,WAAYF,EAAmBC,CAAiB,EAGjF,IAAI,GAAGH,EAAS,QAAS,IAAM,CAC7BA,EAAQ,UAAU,IAAI,QAAQ,EAC9BC,EAAS,UAAU,OAAO,QAAQ,EAElCD,EAAQ,aAAa,eAAgB,MAAM,EAC3CC,EAAS,aAAa,eAAgB,OAAO,EAC7C,QAAQ,QAAQ,IAAI,oBAAqB,UAAU,EACnD,KAAK,cAAc,GAAOC,EAAmBC,CAAiB,CAChE,CAAC,EAED,IAAI,GAAGF,EAAU,QAAS,IAAM,CAC9BA,EAAS,UAAU,IAAI,QAAQ,EAC/BD,EAAQ,UAAU,OAAO,QAAQ,EAEjCC,EAAS,aAAa,eAAgB,MAAM,EAC5CD,EAAQ,aAAa,eAAgB,OAAO,EAC5C,QAAQ,QAAQ,IAAI,oBAAqB,UAAU,EACnD,KAAK,cAAc,GAAME,EAAmBC,CAAiB,CAC/D,CAAC,CACH,CAKA,cAAcE,EAAYH,EAAmBC,EAAmB,CAC1DE,GACF,IAAI,KAAKH,CAAiB,EAC1B,IAAI,KAAKC,CAAiB,IAE1B,IAAI,KAAKD,CAAiB,EAC1B,IAAI,KAAKC,CAAiB,EAE9B,CAKA,oBAAqB,CACnB,MAAMG,EAAe,IAAI,KAAK,gBAAgB,EACxCC,EAAqB,IAAI,KAAK,uBAAuB,EACrDC,EAAY,IAAI,KAAK,aAAa,EAClCC,EAAiB,IAAI,KAAK,yBAAyB,EACnDC,EAAW,IAAI,KAAK,yBAAyB,EAC7CC,EAAgB,IAAI,QAAQ,gBAAgB,EAElD,GAAI,CAACL,GAAgB,CAACC,GAAsB,CAACC,GAAa,CAACC,GAAkB,CAACC,EAC5E,OAIF,MAAME,EAAc,QAAQ,QAAQ,IAAI,yBAA0B,OAAO,EACzEN,EAAa,MAAQM,EAGrB,KAAK,oBAAoBA,CAAW,EAGpC,IAAI,GAAGH,EAAgB,QAAU7G,GAAM,CACrCA,EAAE,gBAAgB,EAClB,KAAK,qBAAqB,CAC5B,CAAC,EAGD+G,EAAc,QAAQzH,GAAQ,CAC5B,IAAI,GAAGA,EAAM,QAAUU,GAAM,CAC3BA,EAAE,gBAAgB,EAClB,MAAMiH,EAAS3H,EAAK,QAAQ,OACxBoH,EAAa,QAAUO,IACzBP,EAAa,MAAQO,EACrB,QAAQ,QAAQ,IAAI,yBAA0BA,CAAM,EACpD,KAAK,oBAAoBA,CAAM,GAEjC,KAAK,mBAAmB,CAC1B,CAAC,CACH,CAAC,EAGD,IAAI,GAAG,SAAU,QAAUjH,GAAM,CAC3B,CAACA,EAAE,OAAO,QAAQ,yBAAyB,GAAK,CAACA,EAAE,OAAO,QAAQ,yBAAyB,GAC7F,KAAK,mBAAmB,CAE5B,CAAC,CACH,CAEA,sBAAuB,CACrB,MAAM6G,EAAiB,IAAI,KAAK,yBAAyB,EACxC,IAAI,KAAK,yBAAyB,EAEtC,UAAU,SAAS,MAAM,EACpC,KAAK,mBAAmB,EAExB,KAAK,mBAAmB,CAE5B,CAEA,oBAAqB,CACnB,MAAMA,EAAiB,IAAI,KAAK,yBAAyB,EACnDC,EAAW,IAAI,KAAK,yBAAyB,EAEnDD,EAAe,UAAU,IAAI,MAAM,EACnCC,EAAS,UAAU,IAAI,MAAM,CAC/B,CAEA,oBAAqB,CACnB,MAAMD,EAAiB,IAAI,KAAK,yBAAyB,EACnDC,EAAW,IAAI,KAAK,yBAAyB,EAEnDD,EAAe,UAAU,OAAO,MAAM,EACtCC,EAAS,UAAU,OAAO,MAAM,CAClC,CAKA,oBAAoBG,EAAQ,CAC1B,MAAMN,EAAqB,IAAI,KAAK,uBAAuB,EACrDO,EAAmB,IAAI,KAAK,qBAAqB,EACjDN,EAAY,IAAI,KAAK,aAAa,EAExC,IAAItC,EAAU,GACV6C,EAAU,GACVC,EAAY,GAEhB,OAAQH,EAAQ,CACd,IAAK,SACH3C,EAAU,0BACV6C,EAAU,SACVC,EAAY,SACZ,MACF,IAAK,OACH9C,EAAU,eACV6C,EAAU,OACVC,EAAY,OACZ,MACF,IAAK,QACH9C,EAAU,gBACV6C,EAAU,QACVC,EAAY,KACZ,KACJ,CAGIF,IACFA,EAAiB,IAAM5C,EACvB4C,EAAiB,IAAMC,GAGrBR,IACFA,EAAmB,YAAcS,GAInCR,EAAU,UAAU,OAAO,gBAAiB,cAAe,cAAc,EACzEA,EAAU,UAAU,IAAI,UAAUK,CAAM,EAAE,CAC5C,CAKA,WAAWI,EAAY,CACrB,MAAMrB,EAAQ,IAAI,KAAK,YAAY,EAC9BA,IAGL,IAAI,KAAK,UAAU,EAAE,MAAQ,GAC7B,IAAI,KAAK,cAAc,EAAE,MAAoC,GAC7D,IAAI,KAAK,cAAc,EAAE,MAAoC,GAC7D,IAAI,KAAK,WAAW,EAAE,MAAQ,GAG9BA,EAAM,QAAQ,SAAWqB,IAAe,WAAa,eAAiB,eAGtE,IAAI,KAAKrB,CAAK,EACdA,EAAM,MAAM,QAAU,OAGtB,WAAW,IAAM,CACf,IAAI,KAAK,UAAU,EAAE,MAAM,CAC7B,EAAG,GAAG,EACR,CAKM,QAAQsB,EAAU,QAAAtF,EAAA,sBAEtB,MAAMqB,EADS,KAAK,cAAc,iBAAiB,EAChC,aAAaiE,CAAQ,EAExC,GAAI,CAACjE,EAAK,CACR,kBAAkB,UAAU,OAAO,EACnC,MACF,CAGA,IAAI,KAAK,UAAU,EAAE,MAAQA,EAAI,MAAQ,GACzC,IAAI,KAAK,cAAc,EAAE,MAAQA,EAAI,cAAgB,GACrD,IAAI,KAAK,cAAc,EAAE,MAAQA,EAAI,cAAgB,GACrD,IAAI,KAAK,WAAW,EAAE,MAAQA,EAAI,MAAQ,GAG1C,MAAM2C,EAAQ,IAAI,KAAK,YAAY,EACnCA,EAAM,QAAQ,SAAWsB,EACzB,IAAI,KAAKtB,CAAK,EACdA,EAAM,MAAM,QAAU,OAGtB,WAAW,IAAM,CACf,IAAI,KAAK,UAAU,EAAE,MAAM,CAC7B,EAAG,GAAG,CACR,GAKM,eAAgB,QAAAhE,EAAA,sBA/jExB,IAAAuF,EAAAC,EAAAC,EAAAC,EAikEI,MAAMC,EADQ,IAAI,KAAK,YAAY,EACP,QAAQ,SAG9BC,EAAW,IAAI,SAAS,IAAI,KAAK,WAAW,CAAC,EAC7CC,EAAU,CACd,MAAMN,EAAAK,EAAS,IAAI,SAAS,IAAtB,YAAAL,EAAyB,OAC/B,cAAcC,EAAAI,EAAS,IAAI,aAAa,IAA1B,YAAAJ,EAA6B,OAC3C,cAAcC,EAAAG,EAAS,IAAI,aAAa,IAA1B,YAAAH,EAA6B,OAC3C,MAAMC,EAAAE,EAAS,IAAI,UAAU,IAAvB,YAAAF,EAA0B,MAClC,EAGA,GAAI,CAACG,EAAQ,KAAM,CACjB,kBAAkB,UAAU,SAAS,EACrC,MACF,CAGA,GAAI,CAACA,EAAQ,cAAgB,CAACA,EAAQ,aAAc,CAClD,kBAAkB,UAAU,cAAc,EAC1C,MACF,CAGA,GAAIA,EAAQ,cAAgB,CAAC,KAAK,YAAYA,EAAQ,YAAY,EAAG,CACnE,kBAAkB,UAAU,YAAY,EACxC,MACF,CAEA,GAAIA,EAAQ,cAAgB,CAAC,KAAK,YAAYA,EAAQ,YAAY,EAAG,CACnE,kBAAkB,UAAU,YAAY,EACxC,MACF,CAEA,GAAI,CACF,GAAIF,IAAkB,gBAAkBA,IAAkB,eAExD,MAAM,KAAK,cAAc,eAAeE,CAAO,EAC/C,kBAAkB,YAAY,QAAQ,MACjC,CAEL,MAAMP,EAAW,SAASK,EAAe,EAAE,EAC3C,MAAM,KAAK,cAAc,kBAAkBL,EAAUO,CAAO,EAC5D,kBAAkB,YAAY,QAAQ,CACxC,CAEA,KAAK,cAAc,EACnB,KAAK,YAAY,QAAQ,CAE3B,OAAStG,EAAO,CACd,QAAQ,MAAM,UAAWA,CAAK,EAC9B,kBAAkB,UAAU,SAAWA,EAAM,OAAO,CACtD,CACF,GAKM,UAAU+F,EAAU,QAAAtF,EAAA,sBACxB,GAAK,QAAQ,aAAa,EAI1B,GAAI,CACF,MAAM,KAAK,cAAc,kBAAkBsF,CAAQ,EACnD,kBAAkB,YAAY,OAAO,EACrC,KAAK,YAAY,QAAQ,CAC3B,OAAS/F,EAAO,CACd,QAAQ,MAAM,UAAWA,CAAK,EAC9B,kBAAkB,UAAU,SAAWA,EAAM,OAAO,CACtD,CACF,GAKA,YAAY7C,EAAK,CACf,GAAI,CAACA,GAAOA,IAAQ,IAClB,MAAO,GAGT,GAAI,CACF,WAAI,IAAIA,CAAG,EACJ,EACT,OAAQsB,EAAA,CAEN,GAAI,CACF,WAAI,IAAI,UAAYtB,CAAG,EAChB,EACT,OAAQsB,EAAA,CACN,MAAO,EACT,CACF,CACF,CAKA,eAAgB,CACd,MAAMgG,EAAQ,IAAI,KAAK,YAAY,EAC/BA,IACFA,EAAM,MAAM,QAAU,OAE1B,CAKA,kBAAmB,CACjB,MAAM8B,EAAS,IAAI,KAAK,aAAa,EAC/BC,EAAO,IAAI,KAAK,iBAAiB,EACjCC,EAAQ,IAAI,KAAK,WAAW,EAElC,GAAI,GAACF,GAAU,CAACC,GAAQ,CAACC,GAIzB,IAAIF,EAAO,QAAQ,cAAgB,OAAQ,CACzC,MAAMG,EAAc,OAAO,cAAgB,CAAC,EAE5CF,EAAK,UAAY,GAEjBE,EAAY,QAAQC,GAAQ,CAC1B,MAAM5I,EAAO,IAAI,OAAO,MAAO,CAC7B,UAAW,kBACb,EAAG,CACD,IAAI,OAAO,MAAO,CAChB,IAAK4I,EAAK,KACV,IAAKA,EAAK,IACZ,CAAC,EACD,IAAI,OAAO,OAAQ,CAAC,EAAG,CAACA,EAAK,IAAI,CAAC,CACpC,CAAC,EAED,IAAI,GAAG5I,EAAM,QAAS,IAAM,CAC1B0I,EAAM,MAAQE,EAAK,KACnBF,EAAM,MAAM,EACZF,EAAO,MAAM,QAAU,MACzB,CAAC,EAEDC,EAAK,YAAYzI,CAAI,CACvB,CAAC,EAEDwI,EAAO,QAAQ,YAAc,MAC/B,CAEIA,EAAO,MAAM,UAAY,QAC3BA,EAAO,MAAM,QAAU,OAEvBA,EAAO,MAAM,QAAU,QAE3B,CAKA,qBAAsB,CACpB,MAAMK,EAAc,IAAI,KAAK,eAAe,EACvCA,IAGL,IAAI,GAAGA,EAAa,WAAanI,GAAM,CACjCA,EAAE,MAAQ,SACZ,KAAK,cAAc,CAEvB,CAAC,EAGD,KAAK,wBAAwBmI,CAAW,EAC1C,CAKA,wBAAwBA,EAAa,CACnC,MAAMC,EAAqB,0BAC3B,IAAIC,EAEJ,IAAI,GAAGF,EAAa,QAAUnI,GAAM,CAClC,aAAaqI,CAAmB,EAChC,MAAMC,EAAQtI,EAAE,OAAO,MAAM,KAAK,EAElC,GAAIsI,EAAM,OAAS,EAAG,CACpB,KAAK,iBAAiB,EACtB,MACF,CAEAD,EAAsB,WAAW,IAAM,CACrC,KAAK,iBAAiBC,EAAOF,CAAkB,CACjD,EAAG,GAAG,CACR,CAAC,EAGD,IAAI,GAAG,SAAU,QAAUpI,GAAM,CAC3B,CAACA,EAAE,OAAO,QAAQ,sBAAsB,GAAKA,EAAE,SAAWmI,GAC5D,KAAK,iBAAiB,CAE1B,CAAC,CACH,CAKA,iBAAiBG,EAAOC,EAAY,CAElC,MAAMC,EADU,QAAQ,QAAQ,IAAID,EAAY,CAAC,CAAC,EACzB,OAAOjJ,GAC9BA,EAAK,YAAY,EAAE,SAASgJ,EAAM,YAAY,CAAC,CACjD,EAAE,MAAM,EAAG,CAAC,EAEZ,GAAIE,EAAS,SAAW,EAAG,CACzB,KAAK,iBAAiB,EACtB,MACF,CAEA,MAAML,EAAc,IAAI,KAAK,eAAe,EACtCM,EAAe,IAAI,OAAO,MAAO,CACrC,UAAW,qBACb,CAAC,EAEDD,EAAS,QAAQlJ,GAAQ,CACvB,MAAMoJ,EAAa,IAAI,OAAO,MAAO,CACnC,UAAW,oBACX,QAAS,IAAM,CACbP,EAAY,MAAQ7I,EACpB,KAAK,cAAc,EACnB,KAAK,iBAAiB,CACxB,CACF,EAAG,CAAC,QAAQ,WAAWA,CAAI,CAAC,CAAC,EAE7BmJ,EAAa,YAAYC,CAAU,CACrC,CAAC,EAGD,MAAM9B,EAAY,IAAI,KAAK,aAAa,EAClC+B,EAAW,IAAI,KAAK,sBAAsB,EAC5CA,GACF/B,EAAU,YAAY+B,CAAQ,EAGhC/B,EAAU,YAAY6B,CAAY,CACpC,CAKA,kBAAmB,CACjB,MAAMA,EAAe,IAAI,KAAK,sBAAsB,EAChDA,GACFA,EAAa,WAAW,YAAYA,CAAY,CAEpD,CAKA,eAAgB,CACd,MAAMN,EAAc,IAAI,KAAK,eAAe,EACtCzB,EAAe,IAAI,KAAK,gBAAgB,EACxC4B,EAAQH,EAAY,MAAM,KAAK,EAErC,GAAI,CAACG,EAAO,CACV,kBAAkB,UAAU,SAAS,EACrC,MACF,CAGA,MAAMF,EAAqB,0BAC3B,IAAIQ,EAAU,QAAQ,QAAQ,IAAIR,EAAoB,CAAC,CAAC,EACxDQ,EAAUA,EAAQ,OAAOtJ,GAAQA,IAASgJ,CAAK,EAC/CM,EAAQ,QAAQN,CAAK,EACrBM,EAAUA,EAAQ,MAAM,EAAG,EAAE,EAC7B,QAAQ,QAAQ,IAAIR,EAAoBQ,CAAO,EAG/C,MAAMC,EAAgBnC,EAAa,MACnC,IAAIoC,EAEJ,OAAQD,EAAe,CACrB,IAAK,SACHC,EAAY,mCAAmC,mBAAmBR,CAAK,CAAC,GACxE,MACF,IAAK,OACHQ,EAAY,gCAAgC,mBAAmBR,CAAK,CAAC,GACrE,MACF,IAAK,QACHQ,EAAY,8BAA8B,mBAAmBR,CAAK,CAAC,GACnE,MACF,QACEQ,EAAY,mCAAmC,mBAAmBR,CAAK,CAAC,EAC5E,CAEA,OAAO,KAAKQ,EAAW,QAAQ,CACjC,CACF,CAGA,OAAO,UAAY,IAAI,aAQvB,MAAM,YAAa,CACjB,aAAc,CACZ,KAAK,cAAgB,OAAO,cAC5B,KAAK,KAAK,CACZ,CAEA,MAAO,CACL,KAAK,uBAAuB,EAC5B,KAAK,qBAAqB,CAC5B,CAKA,wBAAyB,CACvB,MAAMC,EAAqB,IAAI,KAAK,uBAAuB,EACvDA,GACF,IAAI,GAAGA,EAAoB,QAAS,IAAM,CACxC,KAAK,gBAAgB,CACvB,CAAC,CAEL,CAKA,0BAA0BC,EAAwB,GAAO,CACvD,MAAMjG,EAAS,KAAK,cAAc,iBAAiB,EACnD,GAAI,CAACA,EAAQ,CACX,KAAK,oBAAoB,EACzB,KAAK,oBAAoB,OAAO,EAChC,MACF,CAEA,MAAMgG,EAAqB,IAAI,KAAK,uBAAuB,EACrDE,EAAKlG,EAAO,WAElB,GAAI,CAACkG,GAAM,CAACA,EAAG,KAAM,CACfF,GAAoB,IAAI,KAAKA,CAAkB,EACnD,KAAK,oBAAoB,EACzB,KAAK,oBAAoB,OAAO,EAChC,MACF,CAKA,OAFA,KAAK,oBAAoBE,EAAG,MAAQ,OAAO,EAEnCA,EAAG,KAAM,CACf,IAAK,YACCF,GAAoB,IAAI,KAAKA,CAAkB,EACnD,KAAK,oBAAoBC,CAAqB,EAC9C,MAEF,IAAK,QACCD,GAAoB,IAAI,KAAKA,CAAkB,EACnD,KAAK,qBAAqBE,EAAG,YAAc,SAAS,EACpD,MAEF,IAAK,WACCF,GAAoB,IAAI,KAAKA,CAAkB,EACnD,KAAK,wBACHE,EAAG,cAAgB,UACnBA,EAAG,YAAc,SACnB,EACA,MAEF,QACMF,GAAoB,IAAI,KAAKA,CAAkB,EACnD,KAAK,oBAAoB,CAC7B,CACF,CAKA,oBAAoBG,EAAe,GAAO,CACxC,MAAMpI,EAAYoI,EAAe,KAAK,IAAI,EAAI,GACxCC,EAAW,KAAK,oBAAoB,MAAMrI,CAAS,EAAE,EAE3D,QAAQ,IAAI,iCAAkCqI,CAAQ,EAGtD,SAAS,KAAK,MAAM,gBAAkB,UACtC,SAAS,KAAK,MAAM,iBAAmB,YACvC,SAAS,KAAK,MAAM,mBAAqB,gBACzC,SAAS,KAAK,MAAM,qBAAuB,QAE3C,SAAS,KAAK,MAAM,eAAiB,YAGrC,MAAMvD,EAAM,IAAI,MAEhBA,EAAI,OAAS,IAAM,CACjB,QAAQ,IAAI,sCAAsC,EAElD,SAAS,KAAK,MAAM,gBAClB,mEAAmEuD,CAAQ,KAE7E,SAAS,KAAK,MAAM,iBAAmB,YACvC,SAAS,KAAK,MAAM,eAAiB,YACrC,SAAS,KAAK,MAAM,mBAAqB,gBACzC,SAAS,KAAK,MAAM,qBAAuB,OAC7C,EAEAvD,EAAI,QAAWrE,GAAU,CACvB,QAAQ,KAAK,mDAAoDA,CAAK,EACtE,KAAK,wBAAwB,UAAW,SAAS,CACnD,EAGAqE,EAAI,iBAAiB,QAAS,IAAM,CAClC,QAAQ,KAAK,+BAA+B,EAC5C,KAAK,wBAAwB,UAAW,SAAS,CACnD,EAAG,CAAE,KAAM,EAAK,CAAC,EAGjB,WAAW,IAAM,CACVA,EAAI,WACPA,EAAI,IAAM,GACVA,EAAI,QAAQ,IAAI,MAAM,SAAS,CAAC,EAEpC,EAAG,GAAK,EAGRA,EAAI,IAAMuD,CACZ,CAKA,qBAAqBC,EAAO,CAC1B,SAAS,KAAK,MAAM,gBAAkB,OACtC,SAAS,KAAK,MAAM,gBAAkBA,EACtC,SAAS,KAAK,MAAM,iBAAmB,SACvC,SAAS,KAAK,MAAM,eAAiB,OACrC,SAAS,KAAK,MAAM,mBAAqB,WACzC,SAAS,KAAK,MAAM,qBAAuB,QAC7C,CAKA,wBAAwBC,EAAWC,EAAS,CAC1C,SAAS,KAAK,MAAM,gBAClB,2BAA2BD,CAAS,KAAKC,CAAO,IAClD,SAAS,KAAK,MAAM,gBAAkB,UACtC,SAAS,KAAK,MAAM,iBAAmB,YACvC,SAAS,KAAK,MAAM,eAAiB,QACrC,SAAS,KAAK,MAAM,mBAAqB,gBACzC,SAAS,KAAK,MAAM,qBAAuB,OAC7C,CAKM,iBAAkB,QAAAtH,EAAA,sBACtB,GAAI,CACF,KAAK,0BAA0B,EAAI,CACrC,OAAST,EAAO,CACd,QAAQ,MAAM,8BAA+BA,CAAK,CACpD,CACF,GAKA,sBAAuB,CACrB,IAAI,GAAG,SAAU,UAAYvB,GAAM,CAEjC,IAAKA,EAAE,SAAWA,EAAE,UAAYA,EAAE,MAAQ,IAAK,CAC7CA,EAAE,eAAe,EACjB,MAAMmI,EAAc,IAAI,KAAK,eAAe,EACxCA,IACFA,EAAY,MAAM,EAClBA,EAAY,OAAO,EAEvB,CAGA,GAAInI,EAAE,MAAQ,SAAU,CACtB,MAAMmI,EAAc,IAAI,KAAK,eAAe,EACxCA,IAAgB,SAAS,gBAC3BA,EAAY,MAAQ,GACpBA,EAAY,KAAK,EACjB,KAAK,iBAAiB,EAE1B,CACF,CAAC,EAGD,MAAMA,EAAc,IAAI,KAAK,eAAe,EACxCA,IACF,IAAI,GAAGA,EAAa,QAAS,IAAM,CACjCA,EAAY,cAAc,UAAU,IAAI,gBAAgB,CAC1D,CAAC,EAED,IAAI,GAAGA,EAAa,OAAQ,IAAM,CAChCA,EAAY,cAAc,UAAU,OAAO,gBAAgB,CAC7D,CAAC,EAEL,CAKM,qBAAqBG,EAAO,QAAAtG,EAAA,sBAChC,GAAIsG,EAAM,OAAS,EAAG,MAAO,CAAC,EAE9B,GAAI,CAIF,OADoB,MAAM,KAAK,uBAAuBA,CAAK,CAE7D,OAAS/G,EAAO,CACd,eAAQ,KAAK,sCAAuCA,CAAK,EAClD,CAAC,CACV,CACF,GAKM,uBAAuB+G,EAAO,QAAAtG,EAAA,sBAClC,GAAI,CACF,MAAMgB,EAAW,MAAM,MACrB,sEAAsE,mBAAmBsF,CAAK,CAAC,GAC/F,CAAE,KAAM,MAAO,CACjB,EAIA,MAAO,CAAC,CACV,OAAS/G,EAAO,CACd,MAAO,CAAC,CACV,CACF,GAKA,kBAAmB,CAEjB,MAAMkH,EAAe,IAAI,KAAK,sBAAsB,EAChDA,GACFA,EAAa,WAAW,YAAYA,CAAY,CAEpD,CAKA,sBAAuB,CACrB,GAAI,CACF,MAAMc,EAAa,IAAI,MACvBA,EAAW,OAAS,IAAM,CACxB,QAAQ,IAAI,WAAW,CACzB,EACAA,EAAW,QAAU,IAAM,CACzB,QAAQ,KAAK,YAAY,CAC3B,EACAA,EAAW,IAAM,KAAK,oBACpB,mBAAqB,KAAK,IAAI,CAChC,CACF,OAAShI,EAAO,CACd,QAAQ,KAAK,cAAeA,CAAK,CACnC,CACF,CAEA,oBAAoB+G,EAAO,CACzB,GAAI,CACF,KAAM,CAAE,OAAA1F,EAAQ,SAAAC,CAAS,EAAI,OAAO,UAAY,CAAC,EACjD,OAAIA,GAAYA,EAAS,SAAS,YAAY,EACrC,2DAA2DyF,CAAK,GAErE1F,GAAUA,EAAO,WAAW,MAAM,EAC7BA,EAAO,QAAQ,OAAQ,EAAE,EAAI,mBAAmB0F,CAAK,GAEvD,mBAAmBA,CAAK,EACjC,OAAStI,EAAG,CACV,eAAQ,KAAK,mBAAoBA,CAAC,EAC3B,mBAAmBsI,CAAK,EACjC,CACF,CAKA,yBAAyBkB,EAAW,KAAS,CAE3B,QAAQ,QAAQ,IADV,iCAC6B,EAAK,GAGtD,YAAY,IAAM,CAChB,KAAK,gBAAgB,CACvB,EAAGA,CAAQ,CAEf,CAKA,+BAAgC,CAK9B,GAJA,SAAS,KAAK,MAAM,WAAa,mBAER,KAAK,2BAA2B,EAEnC,CACpB,MAAMzG,EAAS,KAAK,cAAc,iBAAiB,EAC/CA,GAAUA,EAAO,YAAcA,EAAO,WAAW,OAAS,aAC5D,KAAK,qBAAqB,SAAS,CAEvC,CACF,CAKA,4BAA6B,CAC3B,MAAM0G,EAAS,UAAU,cAAgB,EACnCC,EACJ,UAAU,YACV,UAAU,eACV,UAAU,iBAEZ,OACED,EAAS,GACRC,GACCA,EAAW,eACX,CAAC,UAAW,KAAM,IAAI,EAAE,SAASA,EAAW,aAAa,CAE/D,CAKA,wBAAyB,CACnB,kBAAmB,WACrB,UAAU,cAAc,MAAM,KAAMC,GAAiB,CACnDA,EAAa,iBAAiB,UAAYnJ,GAAU,CAC9CA,EAAM,KAAK,OAAS,iBACtB,QAAQ,IAAI,0BAA0B,CAE1C,CAAC,CACH,CAAC,CAEL,CAKA,oBAAoBoJ,EAAW,CAC7B,MAAMC,EAAO,SAAS,KAStB,OAPAA,EAAK,UAAU,OACb,eACA,gBACA,iBACA,eACF,EAEQD,EAAW,CACjB,IAAK,OACHC,EAAK,UAAU,IAAI,cAAc,EACjC,MACF,IAAK,QACHA,EAAK,UAAU,IAAI,eAAe,EAClC,MACF,IAAK,SACHA,EAAK,UAAU,IAAI,gBAAgB,EACnC,MACF,IAAK,QACHA,EAAK,UAAU,IAAI,eAAe,EAClC,MACF,QACEA,EAAK,UAAU,IAAI,eAAe,EAClC,KACJ,CAEA,QAAQ,IAAI,oCAAqCD,CAAS,CAC5D,CACF,CAGA,OAAO,aAAe,IAAI,aAIrB,OAAO,eACV,OAAO,aAAe,CACpB,CAAE,KAAM,mBAAoB,KAAM,MAAO,EACzC,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,iBAAkB,KAAM,IAAK,EACrC,CAAE,KAAM,oBAAqB,KAAM,OAAQ,EAC3C,CAAE,KAAM,oBAAqB,KAAM,OAAQ,EAC3C,CAAE,KAAM,mBAAoB,KAAM,MAAO,EACzC,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,oBAAqB,KAAM,OAAQ,EAC3C,CAAE,KAAM,wBAAyB,KAAM,WAAY,EACnD,CAAE,KAAM,mBAAoB,KAAM,MAAO,EACzC,CAAE,KAAM,uBAAwB,KAAM,UAAW,EACjD,CAAE,KAAM,mBAAoB,KAAM,MAAO,EACzC,CAAE,KAAM,0BAA2B,KAAM,aAAc,EACvD,CAAE,KAAM,uBAAwB,KAAM,UAAW,EACjD,CAAE,KAAM,kBAAmB,KAAM,KAAM,EACvC,CAAE,KAAM,qBAAsB,KAAM,QAAS,EAC7C,CAAE,KAAM,uBAAwB,KAAM,UAAW,EACjD,CAAE,KAAM,kBAAmB,KAAM,KAAM,EACvC,CAAE,KAAM,oBAAqB,KAAM,OAAQ,EAC3C,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,wBAAyB,KAAM,WAAY,EACnD,CAAE,KAAM,oBAAqB,KAAM,OAAQ,EAC3C,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,kBAAmB,KAAM,KAAM,EACvC,CAAE,KAAM,qBAAsB,KAAM,QAAS,EAC7C,CAAE,KAAM,sBAAuB,KAAM,UAAW,EAChD,CAAE,KAAM,wBAAyB,KAAM,WAAY,EACnD,CAAE,KAAM,oBAAqB,KAAM,OAAQ,EAC3C,CAAE,KAAM,iBAAkB,KAAM,aAAc,EAC9C,CAAE,KAAM,uBAAwB,KAAM,UAAW,EACjD,CAAE,KAAM,oBAAqB,KAAM,OAAQ,EAC3C,CAAE,KAAM,kBAAmB,KAAM,KAAM,EACvC,CAAE,KAAM,qBAAsB,KAAM,QAAS,EAC7C,CAAE,KAAM,uBAAwB,KAAM,UAAW,EACjD,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,2BAA4B,KAAM,cAAe,EACzD,CAAE,KAAM,qBAAsB,KAAM,QAAS,EAC7C,CAAE,KAAM,iBAAkB,KAAM,IAAK,EACrC,CAAE,KAAM,qBAAsB,KAAM,QAAS,EAC7C,CAAE,KAAM,qBAAsB,KAAM,QAAS,EAC7C,CAAE,KAAM,2BAA4B,KAAM,cAAe,EACzD,CAAE,KAAM,yBAA0B,KAAM,YAAa,EACrD,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,uBAAwB,KAAM,UAAW,EACjD,CAAE,KAAM,mBAAoB,KAAM,MAAO,EACzC,CAAE,KAAM,qBAAsB,KAAM,OAAQ,EAC5C,CAAE,KAAM,qBAAsB,KAAM,QAAS,EAC7C,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,mBAAoB,KAAM,MAAO,CAC3C,GASF,MAAM,oBAAqB,CACzB,aAAc,CACZ,KAAK,MAAQ,SACb,KAAK,YAAc,kBAAmB,UACtC,KAAK,WAAa,KAClB,KAAK,gBAAkB,GACvB,KAAK,KAAK,CACZ,CAEA,MAAO,CACL,GAAI,CAAC,KAAK,YAAa,CACrB,QAAQ,KAAK,8BAA8B,EAC3C,MACF,CAGA,KAAK,sBAAsB,EAG3B,KAAK,qBAAqB,EAG1B,KAAK,gBAAgB,CACvB,CAKM,uBAAwB,QAAA5H,EAAA,sBAC5B,GAAI,CACF,MAAM2H,EAAe,MAAM,UAAU,cAAc,SAAS,KAAK,MAAO,CACtE,MAAO,GACT,CAAC,EAED,QAAQ,IAAI,0CAA2CA,CAAY,EAGnEA,EAAa,iBAAiB,cAAe,IAAM,CACjD,MAAMG,EAAYH,EAAa,WAE/BG,EAAU,iBAAiB,cAAe,IAAM,CAC1CA,EAAU,QAAU,aAAe,UAAU,cAAc,aAE7D,KAAK,gBAAkB,GACvB,KAAK,uBAAuB,EAEhC,CAAC,CACH,CAAC,EAGG,UAAU,cAAc,aAC1B,KAAK,WAAa,UAAU,cAAc,YAI5C,UAAU,cAAc,iBAAiB,mBAAoB,IAAM,CACjE,KAAK,WAAa,UAAU,cAAc,WAC1C,OAAO,SAAS,OAAO,CACzB,CAAC,CAEH,OAASvI,EAAO,CACd,QAAQ,MAAM,sCAAuCA,CAAK,CAC5D,CACF,GAKA,sBAAuB,CACrB,MAAMwI,EAAU,IAAI,eAGpB,UAAU,cAAc,iBAAiB,UAAYvJ,GAAU,CAC7D,KAAM,CAAE,KAAAY,EAAM,KAAA6B,CAAK,EAAIzC,EAAM,KAE7B,OAAQY,EAAM,CACZ,IAAK,gBACH,QAAQ,IAAI,iBAAkB6B,CAAI,EAClC,MAEF,IAAK,iBACH,QAAQ,IAAI,2BAA2B,EACvC,MAEF,QACE,QAAQ,IAAI,0BAA2B7B,EAAM6B,CAAI,CACrD,CACF,CAAC,CACH,CAKM,iBAAkB,QAAAjB,EAAA,sBACtB,GAAK,UAAU,cAAc,WAI7B,GAAI,CAEF,MAAM+H,EAAU,IAAI,eAEpBA,EAAQ,MAAM,UAAavJ,GAAU,CACnC,KAAM,CAAE,QAAAwJ,CAAQ,EAAIxJ,EAAM,KAC1B,QAAQ,IAAI,0BAA2BwJ,CAAO,CAChD,EAEA,UAAU,cAAc,WAAW,YACjC,CAAE,KAAM,aAAc,EACtB,CAACD,EAAQ,KAAK,CAChB,CAEF,OAASxI,EAAO,CACd,QAAQ,MAAM,+BAAgCA,CAAK,CACrD,CACF,GAKA,wBAAyB,CACvB,kBAAkB,YAAY,iBAAkB,GAAI,EAGpD,KAAK,gBAAgB,CACvB,CAKA,iBAAkB,CAEhB,GAAI,IAAI,KAAK,gBAAgB,EAC3B,OAGF,MAAM0I,EAAY,IAAI,OAAO,SAAU,CACrC,GAAI,gBACJ,UAAW,gBACX,UAAW,QACX,QAAS,IAAM,KAAK,YAAY,CAClC,CAAC,EAGKhG,EAAY,IAAI,KAAK,SAAS,GAAK,IAAI,KAAK,OAAO,EACrDA,GACFA,EAAU,YAAYgG,CAAS,EAIjC,KAAK,sBAAsB,CAC7B,CAKM,aAAc,QAAAjI,EAAA,sBAClB,GAAK,KAAK,gBAIV,GAAI,CAEF,MAAM+H,EAAU,IAAI,eAEpB,UAAU,cAAc,WAAW,YACjC,CAAE,KAAM,cAAe,EACvB,CAACA,EAAQ,KAAK,CAChB,EAEA,kBAAkB,YAAY,WAAW,EAGzC,KAAK,mBAAmB,CAE1B,OAASxI,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,EAC9C,kBAAkB,UAAU,cAAc,CAC5C,CACF,GAKA,oBAAqB,CACnB,MAAM2I,EAAU,IAAI,OAAO,MAAO,CAChC,GAAI,yBACJ,UAAW,wBACb,EAAG,CACD,IAAI,OAAO,MAAO,CAChB,UAAW,wBACb,EAAG,CACD,IAAI,OAAO,MAAO,CAAE,UAAW,wBAAyB,CAAC,EACzD,IAAI,OAAO,IAAK,CAAC,EAAG,CAAC,WAAW,CAAC,CACnC,CAAC,CACH,CAAC,EAED,SAAS,KAAK,YAAYA,CAAO,CACnC,CAKA,uBAAwB,CACtB,GAAI,SAAS,eAAe,sBAAsB,EAChD,OAGF,MAAMvI,EAAS,IAAI,OAAO,QAAS,CACjC,GAAI,sBACN,CAAC,EAEDA,EAAO,YAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAqDrB,SAAS,KAAK,YAAYA,CAAM,CAClC,CAKM,YAAa,QAAAK,EAAA,sBACjB,GAAI,CAAC,UAAU,cAAc,WAAY,CACvC,kBAAkB,UAAU,mBAAmB,EAC/C,MACF,CAEA,GAAI,CACF,MAAM+H,EAAU,IAAI,eAEpBA,EAAQ,MAAM,UAAavJ,GAAU,CACnC,KAAM,CAAE,QAAA2J,CAAQ,EAAI3J,EAAM,KACtB2J,EACF,kBAAkB,YAAY,OAAO,EAErC,kBAAkB,UAAU,QAAQ,CAExC,EAEA,UAAU,cAAc,WAAW,YACjC,CAAE,KAAM,aAAc,EACtB,CAACJ,EAAQ,KAAK,CAChB,CAEF,OAASxI,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7C,kBAAkB,UAAU,QAAQ,CACtC,CACF,GAKM,eAAgB,QAAAS,EAAA,sBACpB,GAAI,CAAC,UAAU,cAAc,WAC3B,OAAO,KAGT,GAAI,CACF,MAAM+H,EAAU,IAAI,eAEpB,OAAO,IAAI,QAAS1H,GAAY,CAC9B0H,EAAQ,MAAM,UAAavJ,GAAU,CACnC6B,EAAQ7B,EAAM,KAAK,KAAK,CAC1B,EAEA,UAAU,cAAc,WAAW,YACjC,CAAE,KAAM,iBAAkB,EAC1B,CAACuJ,EAAQ,KAAK,CAChB,CACF,CAAC,CAEH,OAASxI,EAAO,CACd,eAAQ,MAAM,6BAA8BA,CAAK,EAC1C,IACT,CACF,GAKM,cAAc6I,EAAM,QAAApI,EAAA,sBACxB,GAAI,GAAC,UAAU,cAAc,YAAc,CAACoI,EAAK,QAIjD,GAAI,CACF,MAAML,EAAU,IAAI,eAEpBA,EAAQ,MAAM,UAAavJ,GAAU,CACnC,KAAM,CAAE,QAAA2J,CAAQ,EAAI3J,EAAM,KACtB2J,GACF,QAAQ,IAAI,+BAA+B,CAE/C,EAEA,UAAU,cAAc,WAAW,YACjC,CAAE,KAAM,iBAAkB,KAAM,CAAE,KAAAC,CAAK,CAAE,EACzC,CAACL,EAAQ,KAAK,CAChB,CAEF,OAASxI,EAAO,CACd,QAAQ,MAAM,4BAA6BA,CAAK,CAClD,CACF,GACF,CAGA,OAAO,qBAAuB,IAAI,qBAOlC,MAAM,cAAe,CACnB,aAAc,CACZ,KAAK,aAAe,KAAK,iBAAiB,EAC1C,KAAK,aAAe,IAAI,IACxB,KAAK,gBAAkB,CACrB,KAAM,KACN,WAAY,OACZ,UAAW,EACb,EACA,KAAK,KAAK,CACZ,CAEA,MAAO,CAEL,KAAK,gBAAgB,EAGrB,KAAK,sBAAsB,EAG3B,KAAK,wBAAwB,CAC/B,CAKA,kBAAmB,CACjB,OAAO,QAAQ,QAAQ,EAAK,CAC9B,CAKM,qBAAqB8I,EAA2B,QAAArI,EAAA,yBAA3BsI,EAAa5J,EAAU,CAAC,EAAG,CACpD,GAAI,CAAC4J,GAAeA,EAAY,WAAW,GAAG,EAC5C,OAAOA,EAGT,KAAM,CACJ,MAAAzK,EACA,OAAA0K,EACA,QAAAC,EAAU,GACV,OAAAC,EAAS,MACX,EAAI/J,EAGJ,GAAI4J,EAAY,WAAW,MAAM,EAC/B,OAAOA,EAIT,IAAII,EAAeJ,EAanB,GAVIG,IAAW,QACS,MAAM,KAAK,eACZ,KAAK,iBAAiBH,CAAW,IACpDI,EAAeJ,EAAY,QAAQ,qBAAsB,OAAO,GAEzDG,IAAW,SACpBC,EAAeJ,EAAY,QAAQ,qBAAsB,OAAO,IAI7DzK,GAAS0K,IAAW,KAAK,oBAAoBG,CAAY,EAAG,CAC/D,MAAMC,EAAS,IAAI,gBACf9K,GAAO8K,EAAO,OAAO,IAAK9K,CAAK,EAC/B0K,GAAQI,EAAO,OAAO,IAAKJ,CAAM,EACjCC,IAAY,IAAIG,EAAO,OAAO,IAAKH,CAAO,EAE9C,MAAMI,EAAYF,EAAa,SAAS,GAAG,EAAI,IAAM,IACrDA,GAAgBE,EAAYD,EAAO,SAAS,CAC9C,CAEA,OAAOD,CACT,GAKA,iBAAiBhM,EAAK,CAEpB,MADuB,CAAC,OAAQ,OAAQ,QAAS,MAAM,EACjC,KAAKmM,GAAOnM,EAAI,YAAY,EAAE,SAASmM,CAAG,CAAC,CACnE,CAKA,oBAAoBnM,EAAK,CAGvB,MAAO,EACT,CAKA,iBAAkB,CAChB,GAAI,EAAE,yBAA0B,QAAS,CAEvC,KAAK,cAAc,EACnB,MACF,CAEA,MAAMoM,EAAW,IAAI,qBAAsBC,GAAY,CACrDA,EAAQ,QAAQC,GAAS,CACnBA,EAAM,iBACR,KAAK,UAAUA,EAAM,MAAM,EAC3BF,EAAS,UAAUE,EAAM,MAAM,EAEnC,CAAC,CACH,EAAG,KAAK,eAAe,EAGvB,IAAI,QAAQ,eAAe,EAAE,QAAQpF,GAAO,CAC1CkF,EAAS,QAAQlF,CAAG,CACtB,CAAC,CACH,CAKM,UAAUA,EAAK,QAAA5D,EAAA,sBACnB,MAAMiJ,EAAMrF,EAAI,QAAQ,IACxB,GAAI,GAACqF,GAAO,KAAK,aAAa,IAAIA,CAAG,GAIrC,GAAI,CAEFrF,EAAI,UAAU,IAAI,eAAe,EAGjC,MAAM8E,EAAe,MAAM,KAAK,qBAAqBO,EAAK,CACxD,MAAOrF,EAAI,QAAQ,MACnB,OAAQA,EAAI,QAAQ,MACtB,CAAC,EAGKsF,EAAS,IAAI,MAEnBA,EAAO,OAAS,IAAM,CACpBtF,EAAI,IAAM8E,EACV9E,EAAI,UAAU,OAAO,eAAe,EACpCA,EAAI,UAAU,IAAI,cAAc,EAChC,KAAK,aAAa,IAAIqF,CAAG,EAGzB,UAAU,OAAOrF,EAAK,GAAG,CAC3B,EAEAsF,EAAO,QAAU,IAAM,CAEjBR,IAAiBO,GACnBrF,EAAI,IAAMqF,EACVrF,EAAI,UAAU,OAAO,eAAe,EACpCA,EAAI,UAAU,IAAI,cAAc,EAChC,KAAK,aAAa,IAAIqF,CAAG,IAEzBrF,EAAI,UAAU,OAAO,eAAe,EACpCA,EAAI,UAAU,IAAI,aAAa,EAC/B,KAAK,iBAAiBA,CAAG,EAE7B,EAEAsF,EAAO,IAAMR,CAEf,OAASnJ,EAAO,CACd,QAAQ,MAAM,wBAAyB0J,EAAK1J,CAAK,EACjDqE,EAAI,UAAU,OAAO,eAAe,EACpCA,EAAI,UAAU,IAAI,aAAa,EAC/B,KAAK,iBAAiBA,CAAG,CAC3B,CACF,GAKM,eAAgB,QAAA5D,EAAA,sBACpB,MAAMmJ,EAAS,IAAI,QAAQ,eAAe,EAE1C,UAAWvF,KAAOuF,EAChB,MAAM,KAAK,UAAUvF,CAAG,CAE5B,GAKM,uBAAwB,QAAA5D,EAAA,sBAC5B,MAAMoJ,EAAiB,CACrB,0BACA,eACA,eACF,EAEA,UAAWH,KAAOG,EAChB,GAAI,CACF,MAAMV,EAAe,MAAM,KAAK,qBAAqBO,CAAG,EAClDxG,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,IAAM,UACXA,EAAK,GAAK,QACVA,EAAK,KAAOiG,EACZ,SAAS,KAAK,YAAYjG,CAAI,CAChC,OAASlD,EAAO,CACd,QAAQ,KAAK,oCAAqC0J,CAAG,CACvD,CAEJ,GAKA,iBAAiBrF,EAAK,CAEfA,EAAI,UAAU,SAAS,kBAAkB,IAC5CA,EAAI,IAAM,sBACVA,EAAI,UAAU,IAAI,kBAAkB,EACpCA,EAAI,IAAM,SAEd,CAKA,yBAA0B,CACxB,IAAI,GAAG,SAAU,QAAU,GAAM,CAC3B,EAAE,OAAO,UAAY,OACvB,KAAK,iBAAiB,EAAE,MAAM,CAElC,EAAG,EAAI,CACT,CAKA,sBAAsBqF,EAAKI,EAAK3K,EAAU,CAAC,EAAG,CAC5C,KAAM,CACJ,MAAAf,EAAQ,QACR,YAAA2L,EAAc,CAAC,IAAK,IAAK,IAAI,EAC7B,KAAAC,EAAO,EACT,EAAI7K,EAEE8K,EAAU,IAAI,OAAO,SAAS,EAGpC,GAAIF,EAAY,OAAS,EACvB,QAAS1L,EAAI,EAAGA,EAAI0L,EAAY,OAAQ1L,IAAK,CAC3C,MAAM6L,EAAaH,EAAY1L,CAAC,EAC1BC,EAAQ4L,EAERC,EAAS,IAAI,OAAO,SAAU,CAClC,MAAS,eAAeD,CAAU,MAClC,MAAS9L,EACT,KAAQ,aACR,cAAe,GAAGsL,CAAG,MAAMpL,CAAK,gBAAgBA,CAAK,GACvD,CAAC,EAED2L,EAAQ,YAAYE,CAAM,CAC5B,CAIF,MAAM9F,EAAM,IAAI,OAAO,MAAO,CAC5B,WAAmBqF,EACnB,IAAOI,EACP,QAAWE,EAAO,OAAS,QAC3B,SAAY,OACd,CAAC,EAED,OAAIA,GACF3F,EAAI,UAAU,IAAI,YAAY,EAGhC4F,EAAQ,YAAY5F,CAAG,EAChB4F,CACT,CAKM,kBAAmB,QAAAxJ,EAAA,sBACvB,MAAM2J,EAAY,IAAI,QAAQ,eAAe,EAE7C,UAAW/F,KAAO+F,EAChB,GAAI/F,EAAI,KAAO,CAACA,EAAI,QAAQ,UAC1B,GAAI,CACF,MAAM8E,EAAe,MAAM,KAAK,qBAAqB9E,EAAI,IAAK,CAC5D,MAAO,GACP,OAAQ,GACR,QAAS,EACX,CAAC,EAED,GAAI8E,IAAiB9E,EAAI,IAAK,CAE5B,MAAMgG,EAAU,IAAI,MACpBA,EAAQ,OAAS,IAAM,CACrBhG,EAAI,IAAM8E,EACV9E,EAAI,QAAQ,UAAY,MAC1B,EACAgG,EAAQ,IAAMlB,CAChB,MACE9E,EAAI,QAAQ,UAAY,MAE5B,OAASrE,EAAO,CACd,QAAQ,KAAK,+BAAgCqE,EAAI,GAAG,EACpDA,EAAI,QAAQ,UAAY,MAC1B,CAGN,GAKA,iBAAkB,CAChB,KAAK,aAAa,MAAM,EAGpB,WAAY,QACd,OAAO,KAAK,EAAE,KAAKiG,GACV,QAAQ,IACbA,EAAW,OAAOC,GAAQA,EAAK,SAAS,OAAO,CAAC,EAAE,IAAIA,GAAQ,OAAO,OAAOA,CAAI,CAAC,CACnF,CACD,CAEL,CAKA,eAAgB,CACd,MAAMC,EAAc,IAAI,QAAQ,KAAK,EAAE,OACjCC,EAAe,IAAI,QAAQ,kBAAkB,EAAE,OAC/CC,EAAc,IAAI,QAAQ,iBAAiB,EAAE,OAC7CC,EAAgB,IAAI,QAAQ,mBAAmB,EAAE,OAEvD,MAAO,CACL,MAAOH,EACP,OAAQC,EACR,MAAOC,EACP,QAASC,EACT,YAAaH,EAAc,GAAMC,EAAeD,EAAe,KAAK,QAAQ,CAAC,EAAI,CACnF,CACF,CACF,CAGA,OAAO,eAAiB,IAAI",
  "names": ["unsafe", "url", "func", "wait", "immediate", "timeout", "args", "later", "callNow", "limit", "inThrottle", "context", "obj", "item", "clonedObj", "key", "bytes", "k", "sizes", "i", "width", "defaultValue", "value", "e", "tag", "attributes", "children", "element", "child", "grandchild", "selector", "event", "handler", "options", "duration", "start", "animate", "timestamp", "progress", "opacity", "callback", "initialOpacity", "message", "type", "id", "notification", "error", "notificationIndex", "n", "icons", "styles", "oldestNotification", "silent", "moduleKey", "globalName", "__async", "loadPromise", "result", "module", "depKey", "resolve", "reject", "script", "moduleKeys", "startTime", "missing", "info", "origin", "hostname", "maxRetries", "config", "response", "data", "localConfig", "defaultConfig", "normalizedConfig", "app", "__spreadValues", "index", "fromIndex", "toIndex", "movedApp", "background", "editToggleBtn", "appsList", "nextBtn", "appsWithIndex", "total", "container", "pageIndex", "maxPage", "li", "addLi", "iconSrc", "target", "appItemContent", "link", "editBtnIcon", "editBtn", "deleteBtn", "addItem", "draggedElement", "draggedIndex", "currentOverElement", "resetDragState", "rect", "newIndex", "y", "closest", "box", "offset", "externalNext", "internalNext", "apps", "btn", "img", "toggleBtn", "editText", "iconPickerToggle", "modal", "closeBtn", "cancelBtn", "form", "leftBtn", "rightBtn", "externalContainer", "internalContainer", "savedView", "isInternal", "searchEngine", "currentEngineLabel", "searchBox", "engineSelector", "dropdown", "dropdownItems", "savedEngine", "engine", "searchEngineLogo", "altText", "labelText", "targetType", "appIndex", "_a", "_b", "_c", "_d", "appIndexValue", "formData", "appData", "picker", "grid", "input", "presetIcons", "icon", "searchInput", "SEARCH_HISTORY_KEY", "autocompleteTimeout", "query", "historyKey", "filtered", "autocomplete", "suggestion", "existing", "history", "currentEngine", "searchUrl", "changeWallpaperBtn", "forceRefreshWallpaper", "bg", "forceRefresh", "imageUrl", "color", "fromColor", "toColor", "preloadImg", "interval", "memory", "connection", "registration", "blurLevel", "body", "newWorker", "channel", "version", "updateBtn", "overlay", "success", "urls", "_0", "originalUrl", "height", "quality", "format", "optimizedUrl", "params", "separator", "ext", "observer", "entries", "entry", "src", "newImg", "images", "criticalImages", "alt", "breakpoints", "lazy", "picture", "breakpoint", "source", "appImages", "testImg", "cacheNames", "name", "totalImages", "loadedImages", "errorImages", "loadingImages"]
}
